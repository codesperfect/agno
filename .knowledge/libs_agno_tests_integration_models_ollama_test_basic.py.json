{"is_source_file": true, "format": "Python", "description": "This file contains test cases for the 'Agent' class and related components in the 'agno' project, specifically testing interactions with the 'Ollama' model, including synchronous and asynchronous runs, streaming, memory, and response modeling.", "external_files": ["pytest", "pydantic", "agno.agent", "agno.models.ollama", "agno.storage.sqlite"], "external_methods": ["pytest.mark.asyncio", "pytest", "pydantic.BaseModel", "pydantic.Field", "agno.agent.Agent", "agno.agent.RunResponse", "agno.models.ollama.Ollama", "agno.storage.sqlite.SqliteStorage"], "published": [], "classes": [{"name": "MovieScript", "description": "A Pydantic model used for testing structured response outputs, representing a movie script with title, genre, and plot."}], "methods": [{"name": "_assert_metrics", "description": "A helper function to verify the metrics structure and values in a RunResponse object."}, {"name": "test_basic", "description": "Tests a basic synchronous run of the agent with a prompt."}, {"name": "test_basic_stream", "description": "Tests streaming responses from the agent."}, {"name": "test_async_basic", "description": "Tests an asynchronous run of the agent."}, {"name": "test_async_basic_stream", "description": "Tests asynchronous streaming responses."}, {"name": "test_with_memory", "description": "Tests the agent's memory feature, ensuring it retains conversation history."}, {"name": "test_response_model", "description": "Tests the agent's ability to return structured responses conforming to a Pydantic model."}, {"name": "test_json_response_mode", "description": "Tests the agent's JSON mode response with a Pydantic model."}, {"name": "test_history", "description": "Tests the agent's session history management with SQLite storage."}], "calls": ["agno.agent.Agent", "agno.agent.RunResponse", "agno.models.ollama.Ollama", "agno.storage.sqlite.SqliteStorage", "pytest.mark.asyncio", "pytest", "pydantic.BaseModel", "pydantic.Field"], "search-terms": ["integration tests", "Ollama model", "agent run", "streaming responses", "asyncio tests", "memory management", "structured response", "pydantic models", "SQLite storage"], "state": 2, "file_id": 777, "knowledge_revision": 3034, "git_revision": "777260577abc1ec1fbdfa141f65351510b5775ee", "ctags": [], "filename": "libs/agno/tests/integration/models/ollama/test_basic.py", "hash": "e0e7e4903242c67fe2675fe0fc2fb302", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"3034": "777260577abc1ec1fbdfa141f65351510b5775ee"}]}