{"is_source_file": true, "format": "Python", "description": "This is a test module containing unit tests for the PgVector class in the agno.vectordb.pgvector package. It uses pytest and unittest.mock to mock dependencies and verify the behavior of PgVector methods, including initialization, existence checks, creation, insertion, searching, and asynchronous variants.", "external_files": ["agno.document", "agno.vectordb.pgvector", "agno.vectordb.search", "sqlalchemy.engine", "sqlalchemy.orm", "pytest", "unittest.mock"], "external_methods": ["uuid.uuid4", "pytest.fixture", "pytest.raises", "patch", "MagicMock", "patch.object", "patch", "pytest.mark.asyncio"], "published": ["test_initialization", "test_initialization_failures", "test_table_exists", "test_create", "test_doc_exists", "test_name_exists", "test_id_exists", "test_insert", "test_upsert", "test_search", "test_vector_search", "test_drop", "test_exists", "test_get_count", "test_delete", "test_async_create", "test_async_doc_exists", "test_async_name_exists", "test_async_insert", "test_async_upsert", "test_async_search", "test_async_drop", "test_async_exists"], "classes": [], "methods": [{"name": "create_test_documents", "description": "Helper function to generate a list of test Document instances with mock data."}], "calls": ["agno.vectordb.pgvector.pgvector.inspect", "agno.vectordb.pgvector.pgvector.scoped_session", "agno.vectordb.pgvector.pgvector.Vector", "agno.vectordb.pgvector.pgvector.Table", "agno.vectordb.pgvector.pgvector.Column", "agno.vectordb.pgvector.pgvector.Index", "agno.vectordb.pgvector.pgvector.MetaData", "agno.vectordb.pgvector.pgvector.get_table", "asyncio.to_thread"], "search-terms": ["PgVector unit tests", "test_pgvector.py", "mocked database session", "vector search tests", "async method tests", "pytest fixtures for database"], "state": 2, "file_id": 682, "knowledge_revision": 2926, "git_revision": "de4f484df0a97ba767f52dcde416048a0cdfa54e", "ctags": [], "filename": "libs/agno/tests/unit/vectordb/test_pgvector.py", "hash": "a61b80f9541d97f7ac2bd082b4d3da13", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2926": "de4f484df0a97ba767f52dcde416048a0cdfa54e"}]}