{"is_source_file": true, "format": "Python", "description": "This is a test suite for the SingleStore vector database implementation, including fixtures and test cases for insert, search, upsert, delete, distance metrics, document existence, error handling, and embedder usage.", "external_files": ["agno.document", "agno.vectordb.distance", "agno.vectordb.singlestore", "sqlalchemy.engine"], "external_methods": ["pytest.fixture", "pytest.mark.asyncio", "patch", "MagicMock", "assert", "len"], "published": [], "classes": [], "methods": [{"name": "mock_engine", "description": "Creates a mocked database engine for testing."}, {"name": "mock_session", "description": "Creates a mocked database session for testing."}, {"name": "singlestore_db", "description": "Sets up a SingleStore database instance with mocked components for testing."}, {"name": "sample_documents", "description": "Provides sample Document objects for testing."}, {"name": "test_insert_documents", "description": "Tests the insertion of documents into the database."}, {"name": "test_search_documents", "description": "Tests searching documents in the database."}, {"name": "test_upsert_documents", "description": "Tests upserting documents."}, {"name": "test_delete_collection", "description": "Tests deleting the collection."}, {"name": "test_distance_metrics", "description": "Tests different distance metrics used in the database."}, {"name": "test_doc_exists", "description": "Checks if documents exist in the database."}, {"name": "test_error_handling", "description": "Tests error handling scenarios."}, {"name": "test_custom_embedder", "description": "Tests usage of a custom embedder."}], "calls": ["agno.vectordb.singlestore.singlestore.sessionmaker", "MagicMock", "patch", "singlestore_db.insert", "singlestore_db.upsert", "singlestore_db.delete", "singlestore_db.search", "singlestore_db.get_count", "singlestore_db.doc_exists"], "search-terms": ["SingleStore", "vector database", "unit tests", "pytest fixtures", "mocked database session", "search results", "distance metrics", "document existence"], "state": 2, "file_id": 680, "knowledge_revision": 2929, "git_revision": "2d3fa45f2732fd09b12163c3aa7f368f9a5b4a1c", "ctags": [], "filename": "libs/agno/tests/unit/vectordb/test_singlestore.py", "hash": "9d57724bb4f1f3a05c132f9dfd350ccf", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2929": "2d3fa45f2732fd09b12163c3aa7f368f9a5b4a1c"}]}