{"is_source_file": true, "format": "Python", "description": "This file contains unit tests for the FinancialDatasetsTools class in the agno.tools.financial_datasets module. It uses pytest and unittest.mock to test various methods of the class, including initialization, data retrieval functions for financial statements, company info, market data, and other endpoints.", "external_files": ["os", "unittest.mock", "pytest", "agno.tools.financial_datasets"], "external_methods": ["unittest.mock.MagicMock", "unittest.mock.patch", "pytest.fixture", "pytest.mark.parametrize", "agno.tools.financial_datasets.FinancialDatasetsTools"], "published": [], "classes": [], "methods": [{"name": "api_key", "description": "Fixture that provides a test API key string."}, {"name": "financial_tools", "description": "Fixture that creates an instance of FinancialDatasetsTools with a test API key."}, {"name": "mock_response", "description": "Fixture that creates a mocked API response object with json data and no exception."}, {"name": "test_init_with_provided_key", "description": "Tests initializing FinancialDatasetsTools with an explicit API key."}, {"name": "test_init_with_env_key", "description": "Tests initializing FinancialDatasetsTools with API key from environment variable."}, {"name": "test_init_without_key", "description": "Tests initializing FinancialDatasetsTools without an API key and logs error."}, {"name": "test_get_income_statements", "description": "Tests the get_income_statements method of FinancialDatasetsTools."}, {"name": "test_get_balance_sheets", "description": "Tests the get_balance_sheets method."}, {"name": "test_get_cash_flow_statements", "description": "Tests the get_cash_flow_statements method."}, {"name": "test_get_company_info", "description": "Tests the get_company_info method."}, {"name": "test_get_crypto_prices", "description": "Tests the get_crypto_prices method."}, {"name": "test_get_earnings", "description": "Tests the get_earnings method."}, {"name": "test_get_financial_metrics", "description": "Tests the get_financial_metrics method."}, {"name": "test_get_insider_trades", "description": "Tests the get_insider_trades method."}, {"name": "test_get_institutional_ownership", "description": "Tests the get_institutional_ownership method."}, {"name": "test_get_news_with_ticker", "description": "Tests the get_news method with a ticker parameter."}, {"name": "test_get_news_without_ticker", "description": "Tests the get_news method without a ticker parameter."}, {"name": "test_get_stock_prices", "description": "Tests the get_stock_prices method."}, {"name": "test_search_tickers", "description": "Tests the search_tickers method."}, {"name": "test_get_sec_filings_with_form_type", "description": "Tests the get_sec_filings method with a form_type parameter."}, {"name": "test_get_sec_filings_without_form_type", "description": "Tests the get_sec_filings method without a form_type parameter."}, {"name": "test_get_segmented_financials", "description": "Tests the get_segmented_financials method."}], "calls": ["agno.tools.financial_datasets.log_error", "agno.tools.financial_datasets.FinancialDatasetsTools._make_request"], "search-terms": ["unit tests", "financial datasets", "pytest", "mock", "test_get_income_statements", "test_get_balance_sheets", "test_get_cash_flow_statements", "test_get_company_info", "test_get_crypto_prices", "test_get_earnings", "test_get_financial_metrics", "test_get_insider_trades", "test_get_institutional_ownership", "test_get_news", "test_get_stock_prices", "test_search_tickers", "test_get_sec_filings", "test_get_segmented_financials"], "state": 2, "file_id": 638, "knowledge_revision": 2916, "git_revision": "80cb0134a3e3ca7a8a82ab2eec6d5c23f4e1163e", "ctags": [], "filename": "libs/agno/tests/unit/tools/test_financial_datasets.py", "hash": "9feb4bf823427a67fb1478ee5a5abe8c", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2916": "80cb0134a3e3ca7a8a82ab2eec6d5c23f4e1163e"}]}