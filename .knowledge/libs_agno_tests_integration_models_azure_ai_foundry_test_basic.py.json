{"is_source_file": true, "format": "Python", "description": "This file contains integration tests for the Azure AI Foundry model within the agno project, testing various functionalities such as basic responses, streaming, asynchronous calls, memory handling, and response modeling.", "external_files": ["pytest", "pydantic", "agno.agent", "agno.models.azure", "agno.storage.sqlite"], "external_methods": ["pytest.mark.asyncio", "pytest", "BaseModel", "Field", "Agent", "RunResponse", "AzureAIFoundry", "SqliteStorage"], "published": [], "classes": [{"name": "MovieScript", "description": "A Pydantic model used for testing structured response outputs, representing a movie script with title, genre, and plot."}], "methods": [{"name": "_assert_metrics", "description": "A helper function to assert that the metrics in the response contain positive token counts and that total tokens equal the sum of input and output tokens."}, {"name": "test_basic", "description": "Tests the basic functionality of the agent with a simple prompt and verifies the response and metrics."}, {"name": "test_basic_stream", "description": "Tests the streaming response functionality of the agent."}, {"name": "test_async_basic", "description": "Asynchronous test for the basic agent response."}, {"name": "test_async_basic_stream", "description": "Asynchronous test for streaming responses."}, {"name": "test_with_memory", "description": "Tests the agent's ability to remember conversation history across multiple runs."}, {"name": "test_response_model", "description": "Tests the agent's ability to return structured responses conforming to a Pydantic model."}, {"name": "test_json_response_mode", "description": "Tests the agent's response when configured to output JSON mode."}, {"name": "test_history", "description": "Tests the storage and retrieval of conversation history using SQLite storage."}], "calls": ["pytest.mark.asyncio", "agent.run", "agent.arun", "agent.get_messages_for_session", "assert", "sum", "hasattr", "list", "isinstance"], "search-terms": ["AzureAIFoundry", "integration tests", "agent responses", "streaming", "structured output", "memory handling", "SQLite storage", "response modeling"], "state": 2, "file_id": 802, "knowledge_revision": 3068, "git_revision": "777260577abc1ec1fbdfa141f65351510b5775ee", "ctags": [], "filename": "libs/agno/tests/integration/models/azure/ai_foundry/test_basic.py", "hash": "ab49d03e9da1b84653464071a5e005ea", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"3068": "777260577abc1ec1fbdfa141f65351510b5775ee"}]}