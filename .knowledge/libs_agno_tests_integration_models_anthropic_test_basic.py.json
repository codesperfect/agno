{"is_source_file": true, "format": "Python", "description": "This file contains test cases for the 'Agent' class and related components in the 'agno' project, specifically testing interactions with the 'Claude' model, including streaming, async operations, memory, structured output, JSON mode, caching, and metrics assertions.", "external_files": ["pathlib", "pytest", "pydantic", "agno.agent", "agno.models.anthropic", "agno.storage.sqlite", "agno.utils.log", "agno.utils.media"], "external_methods": ["Path.parent", "Path.joinpath", "download_file", "log_warning"], "published": ["test_basic", "test_basic_stream", "test_async_basic", "test_async_basic_stream", "test_with_memory", "test_structured_output", "test_json_response_mode", "test_history", "test_prompt_caching"], "classes": [{"name": "MovieScript", "description": "A Pydantic model used for structured movie script data with fields for title, genre, and plot."}], "methods": [{"name": "_assert_metrics", "description": "Asserts that the response metrics contain positive token counts and that total tokens equal the sum of input and output tokens."}, {"name": "_get_large_system_prompt", "description": "Loads a large system prompt text from a specified S3 URL and reads it from the filesystem."}], "calls": ["Path(__file__).parent.joinpath", "download_file", "log_warning", "agent.run", "agent.arun", "agent.get_messages_for_session", "Path.read_text"], "search-terms": ["pytest", "Claude", "agent", "memory", "structured output", "caching", "asyncio", "streaming", "metrics", "system prompt"], "state": 2, "file_id": 752, "knowledge_revision": 2984, "git_revision": "777260577abc1ec1fbdfa141f65351510b5775ee", "ctags": [], "filename": "libs/agno/tests/integration/models/anthropic/test_basic.py", "hash": "57d5b42f7c55829c31e5e03904ee2843", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2984": "777260577abc1ec1fbdfa141f65351510b5775ee"}]}