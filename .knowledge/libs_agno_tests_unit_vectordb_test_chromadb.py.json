{"is_source_file": true, "format": "Python", "description": "This file contains unit tests for the ChromaDb vector database implementation, including fixtures for setup and teardown, and tests for CRUD operations, search, distance metrics, and asynchronous methods.", "external_files": ["os", "shutil", "typing", "pytest", "agno.document", "agno.vectordb.chroma", "agno.vectordb.distance"], "external_methods": ["os.makedirs", "os.path.exists", "shutil.rmtree", "ChromaDb.create", "ChromaDb.drop", "ChromaDb.insert", "ChromaDb.search", "ChromaDb.upsert", "ChromaDb.delete", "ChromaDb.exists", "ChromaDb.get_count", "ChromaDb.doc_exists", "Distance.cosine", "Distance.l2"], "published": ["chroma_db", "sample_documents", "test_create_collection", "test_insert_documents", "test_search_documents", "test_upsert_documents", "test_delete_collection", "test_distance_metrics", "test_doc_exists", "test_get_count", "test_error_handling", "test_custom_embedder", "test_multiple_document_operations", "test_async_create_collection", "test_async_insert_documents", "test_async_search_documents", "test_async_upsert_documents", "test_async_doc_exists", "test_async_name_exists", "test_async_drop_collection", "test_async_exists"], "classes": [{"name": "Document", "description": "Represents a document with content and metadata used in vector database operations."}, {"name": "ChromaDb", "description": "A class representing the Chroma vector database, supporting CRUD, search, and async operations."}], "methods": [{"name": "chroma_db", "description": "Fixture to create and clean up a ChromaDb instance for testing."}, {"name": "sample_documents", "description": "Fixture to create sample Document instances for testing."}, {"name": "test_create_collection", "description": "Tests creation and existence of a collection."}, {"name": "test_insert_documents", "description": "Tests inserting documents into the collection."}, {"name": "test_search_documents", "description": "Tests searching documents in the collection."}, {"name": "test_upsert_documents", "description": "Tests upserting documents in the collection."}, {"name": "test_delete_collection", "description": "Tests deleting the collection."}, {"name": "test_distance_metrics", "description": "Tests different distance metrics used in the database."}, {"name": "test_doc_exists", "description": "Checks if a document exists in the collection."}, {"name": "test_get_count", "description": "Verifies the count of documents in the collection."}, {"name": "test_error_handling", "description": "Tests error handling scenarios."}, {"name": "test_custom_embedder", "description": "Tests using a custom embedder."}, {"name": "test_multiple_document_operations", "description": "Tests batch operations and multiple document handling."}, {"name": "test_async_create_collection", "description": "Tests asynchronous creation of collection."}, {"name": "test_async_insert_documents", "description": "Tests asynchronous insertion of documents."}, {"name": "test_async_search_documents", "description": "Tests asynchronous search."}, {"name": "test_async_upsert_documents", "description": "Tests asynchronous upsert."}, {"name": "test_async_doc_exists", "description": "Checks document existence asynchronously."}, {"name": "test_async_name_exists", "description": "Checks document name existence asynchronously."}, {"name": "test_async_drop_collection", "description": "Tests asynchronous dropping of collection."}, {"name": "test_async_exists", "description": "Checks collection existence asynchronously."}], "calls": ["os.makedirs", "os.path.exists", "shutil.rmtree", "ChromaDb.create", "ChromaDb.drop", "ChromaDb.insert", "ChromaDb.search", "ChromaDb.upsert", "ChromaDb.delete", "ChromaDb.exists", "ChromaDb.get_count", "ChromaDb.doc_exists", "Distance.cosine", "Distance.l2"], "search-terms": ["unit tests", "ChromaDb", "vector database", "async methods", "distance metrics", "test fixtures", "document content", "collection management"], "state": 2, "file_id": 677, "knowledge_revision": 2937, "git_revision": "e9c9b56a228d15ffc1c62509160880b68b96239f", "ctags": [], "filename": "libs/agno/tests/unit/vectordb/test_chromadb.py", "hash": "d036f3772bd0045ea9b9dd7730f98321", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2937": "e9c9b56a228d15ffc1c62509160880b68b96239f"}]}