{"is_source_file": true, "format": "Python", "description": "This file contains utility functions and data class definitions for handling message formatting, image and file processing, and configuration related to a chat-based system, likely involving AI or chatbot interactions. It also manages external dependencies and defines internal mappings and helper functions.", "external_files": ["agno.media", "agno.models.message", "agno.utils.log", "anthropic.types"], "external_methods": ["log_error", "log_warning"], "published": ["ROLE_MAP", "_format_image_for_message", "_format_file_for_message", "format_messages"], "classes": [{"name": "MCPToolConfiguration", "description": "Configuration class for enabling tools and specifying allowed tools."}, {"name": "MCPServerConfiguration", "description": "Configuration class for server details including type, URL, name, and optional authentication."}], "methods": [{"name": "_format_image_for_message", "description": "Converts an Image object into a base64 encoded dictionary suitable for message embedding."}, {"name": "_format_file_for_message", "description": "Converts a File object into a dictionary with base64 data or URL for message embedding."}, {"name": "format_messages", "description": "Processes a list of Message objects into formatted message dictionaries for API consumption, handling different roles and content types."}], "calls": ["base64.b64encode", "imghdr.what", "filetype.guess", "log_error", "log_warning", "json.loads"], "search-terms": ["message formatting", "image processing", "file encoding", "chat message serialization", "anthropic types", "configuration classes"], "state": 2, "file_id": 183, "knowledge_revision": 2424, "git_revision": "777260577abc1ec1fbdfa141f65351510b5775ee", "ctags": [], "filename": "libs/agno/agno/utils/models/claude.py", "hash": "1904a7cb65f084bb4d820d4ef121b55a", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2424": "777260577abc1ec1fbdfa141f65351510b5775ee"}]}