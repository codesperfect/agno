{"is_source_file": true, "format": "Python", "description": "This file defines a class 'PineconeDb' that interfaces with the Pinecone vector database, providing methods for index management, document upsertion, searching, and index deletion. It includes version checks for Pinecone compatibility and supports hybrid search features.", "external_files": ["packaging.version", "pinecone", "agno.document", "agno.embedder", "agno.reranker.base", "agno.utils.log", "agno.vectordb.base"], "external_methods": ["packaging.version.parse", "pinecone.Pinecone", "pinecone.PodSpec", "pinecone.ServerlessSpec", "pinecone.config.Config", "pinecone.Pinecone.index", "pinecone.Pinecone.list_indexes", "pinecone.Pinecone.create_index", "pinecone.Pinecone.delete_index", "pinecone.Pinecone.describe_index", "pinecone.Pinecone.fetch", "pinecone.Pinecone.upsert", "pinecone.Pinecone.query", "pinecone.Pinecone.delete", "agno.document.Document", "agno.embedder.Embedder", "agno.reranker.base.Reranker", "agno.utils.log.log_debug", "agno.utils.log.log_info", "agno.utils.log.logger"], "published": ["PineconeDb"], "classes": [{"name": "PineconeDb", "description": "A class representing a Pinecone vector database interface, supporting index creation, deletion, document upsertion, and search functionalities with optional hybrid search capabilities."}], "methods": [{"name": "__init__", "description": "Initializes the PineconeDb instance with configuration parameters, setting up the embedder and optional reranker."}, {"name": "client", "description": "Lazily creates and returns the Pinecone client instance."}, {"name": "index", "description": "Lazily connects to and returns the specified Pinecone index."}, {"name": "exists", "description": "Checks if the specified index exists in Pinecone."}, {"name": "async_exists", "description": "Asynchronously checks if the index exists."}, {"name": "create", "description": "Creates the index if it does not already exist."}, {"name": "async_create", "description": "Asynchronously creates the index if it does not exist."}, {"name": "drop", "description": "Deletes the index if it exists."}, {"name": "doc_exists", "description": "Checks if a specific document exists in the index."}, {"name": "async_doc_exists", "description": "Asynchronously checks if a document exists."}, {"name": "name_exists", "description": "Checks if an index with a given name exists."}, {"name": "async_name_exists", "description": "Asynchronously checks if an index with a given name exists."}, {"name": "upsert", "description": "Inserts or updates documents in the index, supporting optional hybrid search encoding."}, {"name": "async_upsert", "description": "Asynchronously upserts documents in batches, with parallel processing."}, {"name": "_prepare_vectors", "description": "Prepares document vectors for upsert, embedding content and encoding for hybrid search."}, {"name": "_upsert_vectors", "description": "Performs the actual upsert operation with provided vectors."}, {"name": "async_insert", "description": "Raises NotImplementedError as insert is not supported; use upsert."}, {"name": "upsert_available", "description": "Indicates that upsert operation is supported."}, {"name": "insert", "description": "Raises NotImplementedError as insert is not supported; use upsert."}, {"name": "_hybrid_scale", "description": "Combines dense and sparse vectors into a hybrid vector based on alpha."}, {"name": "search", "description": "Performs a vector similarity search, supporting hybrid search with sparse encoding."}, {"name": "async_search", "description": "Asynchronously performs a search in a separate thread."}, {"name": "optimize", "description": "No operation; Pinecone manages index optimization automatically."}, {"name": "delete", "description": "Deletes all data in the index, optionally within a namespace."}, {"name": "async_drop", "description": "Raises NotImplementedError; async deletion not supported."}], "search-terms": ["PineconeDb", "vector database", "index management", "hybrid search", "async upsert", "vector search", "document embedding", "index creation", "index deletion"], "state": 2, "file_id": 572, "knowledge_revision": 2835, "git_revision": "4e9a8befd9342b87312db6d625115acb8f0715d1", "ctags": [], "filename": "libs/agno/agno/vectordb/pineconedb/pineconedb.py", "hash": "2955341b168d7eb10b2509af6ad6145e", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2835": "4e9a8befd9342b87312db6d625115acb8f0715d1"}]}