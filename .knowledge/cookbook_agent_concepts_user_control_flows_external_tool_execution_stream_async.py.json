{"is_source_file": true, "format": "Python", "description": "This Python source file demonstrates how to implement human-in-the-loop functionality with external tool execution in an agent framework. It defines a shell command execution tool, sets up an agent, and runs an asynchronous main loop to handle external tool calls during agent execution.", "external_files": ["agno.agent", "agno.models.openai", "agno.tools"], "external_methods": ["subprocess.check_output", "asyncio.run", "agent.arun", "agent.acontinue_run", "print"], "published": ["execute_shell_command"], "classes": [{"name": "Agent", "description": "Represents the agent that manages tools and interacts with the language model."}, {"name": "OpenAIChat", "description": "Model class for OpenAI chat-based models used within the agent."}], "methods": [{"name": "execute_shell_command", "description": "Defines a tool to execute shell commands, supporting only 'ls' commands."}, {"name": "main", "description": "Asynchronous main function that runs the agent, handles external tool execution, and outputs results."}], "calls": ["subprocess.check_output", "agent.arun", "agent.acontinue_run", "print", "asyncio.run"], "search-terms": ["human-in-the-loop", "external tool execution", "agent framework", "asyncio", "shell command tool"], "state": 2, "file_id": 1866, "knowledge_revision": 4099, "git_revision": "d054cacc1212818f994127569d2f0d5ca1b977f0", "ctags": [], "filename": "cookbook/agent_concepts/user_control_flows/external_tool_execution_stream_async.py", "hash": "0012929abccb54c63452eb13a03abcc7", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"4099": "d054cacc1212818f994127569d2f0d5ca1b977f0"}]}