{"is_source_file": true, "format": "Python", "description": "This Python source file demonstrates how to implement human-in-the-loop functionality with user confirmation in a tool-based agent system. It includes a tool for fetching top Hacker News stories, integrates with an agent class, and handles user prompts for confirmation before executing certain tools.", "external_files": ["httpx", "agno.agent", "agno.models.openai", "agno.tools", "agno.utils", "rich.console", "rich.prompt"], "external_methods": ["httpx.get", "pprint.pprint_run_response", "Prompt.ask"], "published": ["get_top_hackernews_stories", "agent"], "classes": [{"name": "Agent", "description": "An agent class that manages tool execution, conversation history, and interaction flow."}], "methods": [{"name": "get_top_hackernews_stories", "description": "A tool function that fetches top stories from Hacker News, requiring user confirmation before execution."}], "calls": ["httpx.get", "pprint.pprint_run_response", "Prompt.ask"], "search-terms": ["human-in-the-loop", "user confirmation", "tool execution", "agent interaction", "hacker news stories", "confirmation prompt"], "state": 2, "file_id": 1876, "knowledge_revision": 4110, "git_revision": "f784b233c9ecbb231c841cbc894a55eef1afe7fd", "ctags": [], "filename": "cookbook/agent_concepts/user_control_flows/confirmation_required_with_history.py", "hash": "2e599e38b8896b3c2ed41466d573151d", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"4110": "f784b233c9ecbb231c841cbc894a55eef1afe7fd"}]}