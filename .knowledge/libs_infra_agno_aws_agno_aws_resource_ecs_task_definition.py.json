{"is_source_file": true, "format": "Python", "description": "This file defines the class `EcsTaskDefinition` which manages AWS ECS task definitions, including creation, reading, updating, and deletion. It also handles IAM roles and policies associated with ECS tasks.", "external_files": ["agno.aws.api_client", "agno.aws.resource.base", "agno.aws.resource.ecs.container", "agno.aws.resource.ecs.volume", "agno.aws.resource.iam.policy", "agno.aws.resource.iam.role", "agno.cli.console", "agno.utils.log"], "external_methods": ["AwsApiClient", "AwsResource", "EcsContainer.get_container_definition", "EcsVolume.get_volume_definition", "IamPolicy", "IamRole", "print_info", "logger.error", "logger.debug"], "published": ["EcsTaskDefinition", "get_task_family", "get_task_role", "get_execution_role"], "classes": [{"name": "EcsTaskDefinition", "description": "Represents an AWS ECS task definition, providing methods to create, read, update, and delete task definitions, as well as manage associated IAM roles and policies."}], "methods": [{"name": "get_task_family", "description": "Returns the task family name, defaulting to the 'name' attribute if 'family' is not set."}, {"name": "_create", "description": "Creates the ECS task definition in AWS, including handling IAM roles and registering the task definition."}, {"name": "_read", "description": "Reads the current ECS task definition from AWS and updates the internal state."}, {"name": "_delete", "description": "Deletes the ECS task definition and associated IAM roles if they were created by this resource."}, {"name": "_update", "description": "Updates the ECS task definition by re-creating it."}, {"name": "get_task_role", "description": "Constructs and returns the IAM role for the task, attaching necessary policies."}, {"name": "get_execution_role", "description": "Constructs and returns the IAM role for task execution, attaching necessary policies."}], "calls": ["print_info", "logger.error", "logger.debug", "self.get_service_client", "self.get_task_role", "self.get_execution_role", "service_client.register_task_definition", "service_client.describe_task_definition", "service_client.list_task_definitions", "service_client.deregister_task_definition", "task_role.create", "task_role.read", "task_role.delete", "execution_role.create", "execution_role.read", "execution_role.delete"], "search-terms": ["EcsTaskDefinition", "task_definition", "IAM role", "AWS ECS", "task role policies", "register_task_definition", "delete task definition"], "state": 2, "file_id": 56, "knowledge_revision": 2332, "git_revision": "e67ee577664da81d64486d0682baa2083ae8659b", "ctags": [], "filename": "libs/infra/agno_aws/agno/aws/resource/ecs/task_definition.py", "hash": "cb082618a98c010693233bf975523720", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2332": "e67ee577664da81d64486d0682baa2083ae8659b"}]}