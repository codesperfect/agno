{"is_source_file": true, "format": "Python", "description": "This file defines classes and methods related to managing agent memory and session data in a conversational AI system. It includes data models for agent runs, memory management, session summaries, and methods for updating, loading, and retrieving memory and message data.", "external_files": ["agno.memory.classifier", "agno.memory.db", "agno.memory.manager", "agno.memory.memory", "agno.memory.summarizer", "agno.memory.summary", "agno.models.message", "agno.run.response", "agno.utils.log"], "external_methods": ["log_debug", "log_info", "logger"], "published": ["AgentRun", "AgentMemory"], "classes": [{"name": "AgentRun", "description": "Data model representing a single agent execution, including message, messages list, and response."}, {"name": "AgentMemory", "description": "Main class managing the memory, session, and message history for an AI agent, including methods for updating, loading, and summarizing memory."}], "methods": [{"name": "to_dict", "description": "Serializes the object to a dictionary, including nested data."}, {"name": "add_run", "description": "Adds an AgentRun to the memory, replacing existing runs with the same run_id."}, {"name": "add_system_message", "description": "Adds or updates a system message in the message list."}, {"name": "add_messages", "description": "Adds multiple messages to the message list."}, {"name": "get_messages", "description": "Returns all messages as a list of dictionaries."}, {"name": "get_messages_from_last_n_runs", "description": "Retrieves messages from the last n runs, optionally skipping certain roles."}, {"name": "get_message_pairs", "description": "Returns pairs of user messages and corresponding assistant responses."}, {"name": "get_tool_calls", "description": "Retrieves tool call data from messages."}, {"name": "load_user_memories", "description": "Loads memories from the database for the current user."}, {"name": "should_update_memory", "description": "Determines if a message should be added to memory based on classifier response."}, {"name": "ashould_update_memory", "description": "Asynchronous version of should_update_memory."}, {"name": "update_memory", "description": "Creates and stores a memory from a message, possibly forcing the update."}, {"name": "aupdate_memory", "description": "Asynchronous version of update_memory."}, {"name": "update_summary", "description": "Creates a session summary based on message pairs."}, {"name": "aupdate_summary", "description": "Asynchronous version of update_summary."}, {"name": "clear", "description": "Resets the memory, messages, and session summary."}, {"name": "deep_copy", "description": "Creates a deep copy of the AgentMemory instance."}], "calls": ["agno.memory.classifier.MemoryClassifier.run", "agno.memory.classifier.MemoryClassifier.arun", "agno.memory.manager.MemoryManager.run", "agno.memory.summarizer.MemorySummarizer.run", "agno.memory.summarizer.MemorySummarizer.arun", "log_debug", "log_info", "logger.warning"], "search-terms": ["AgentMemory", "MemoryDb", "session summary", "message history", "memory management", "agent run", "memory classifier", "load user memories"], "state": 2, "file_id": 116, "knowledge_revision": 2369, "git_revision": "0753b14d468408ac281137b1259102c779e66a6e", "ctags": [], "filename": "libs/agno/agno/memory/agent.py", "hash": "75b9261df2ce020d5d3104f0050dc049", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2369": "0753b14d468408ac281137b1259102c779e66a6e"}]}