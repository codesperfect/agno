{"is_source_file": true, "format": "Python", "description": "This file contains utility functions for a Streamlit-based SQL agent interface, including JSON validation, data loading, message handling, agent restart, chat export, tool call display, sidebar widgets, session management, and styling.", "external_files": ["agents", "agno.agent.agent", "agno.models.response", "agno.utils.log", "load_f1_data", "load_knowledge"], "external_methods": ["json.loads", "st.session_state", "st.spinner", "st.success", "st.rerun", "st.markdown", "st.button", "st.download_button", "st.sidebar", "st.columns", "st.text_input", "st.expander", "st.code", "st.json", "st.error", "logger.debug", "logger.error", "logger.info"], "published": ["is_json", "load_data_and_knowledge", "add_message", "restart_agent", "export_chat_history", "display_tool_calls", "sidebar_widget", "session_selector_widget", "rename_session_widget", "about_widget", "CUSTOM_CSS"], "classes": [], "methods": [{"name": "is_json", "description": "Checks if a given string is valid JSON."}, {"name": "load_data_and_knowledge", "description": "Loads F1 data and knowledge base if not already loaded, updating session state."}, {"name": "add_message", "description": "Adds a message to the Streamlit session state with role, content, and optional tool calls."}, {"name": "restart_agent", "description": "Resets the SQL agent and clears chat history, with a debug log."}, {"name": "export_chat_history", "description": "Exports the chat history as markdown formatted text."}, {"name": "display_tool_calls", "description": "Displays a list of tool call results in a Streamlit container with expandable sections."}, {"name": "sidebar_widget", "description": "Creates a sidebar with sample queries, utilities, and data loading options."}, {"name": "session_selector_widget", "description": "Provides a session selector in the sidebar for switching between agent sessions."}, {"name": "rename_session_widget", "description": "Allows renaming the current agent session via sidebar controls."}, {"name": "about_widget", "description": "Displays an about section with links to GitHub, docs, Discord, and community forum."}], "calls": ["json.loads", "st.session_state", "load_f1_data", "load_knowledge", "st.spinner", "st.success", "st.rerun", "st.markdown", "st.button", "st.download_button", "st.sidebar", "st.columns", "st.text_input", "st.expander", "st.code", "st.json", "st.error", "logger.debug", "logger.error", "logger.info", "get_sql_agent"], "search-terms": ["streamlit_utils", "chat_history", "tool_call_display", "session_management", "load_f1_data", "load_knowledge", "agent_restart", "export_markdown", "sidebar_sample_queries"], "state": 2, "file_id": 964, "knowledge_revision": 3238, "git_revision": "1e0b5257bcfb78da6fb083fd312f99a1e71e7fcc", "ctags": [], "filename": "cookbook/examples/streamlit_apps/sql_agent/utils.py", "hash": "8cf37152399b1b4706cfc283893a7450", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"3238": "1e0b5257bcfb78da6fb083fd312f99a1e71e7fcc"}]}