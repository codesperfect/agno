{"is_source_file": true, "format": "Python", "description": "This file defines a Python class 'HuggingFace' for interacting with HuggingFace Hub inference models, including methods for client management, request parameter construction, message formatting, and response parsing, supporting both synchronous and asynchronous operations.", "external_files": ["huggingface_hub", "huggingface_hub.errors", "httpx", "pydantic", "agno.exceptions", "agno.models.base", "agno.models.message", "agno.models.response", "agno.utils.log"], "external_methods": ["log_error", "log_warning", "log_debug"], "published": ["HuggingFace"], "classes": [{"name": "HuggingFace", "description": "A class for interacting with HuggingFace Hub Inference models, supporting synchronous and asynchronous inference, stream handling, and response parsing."}], "methods": [{"name": "get_client_params", "description": "Constructs and returns a dictionary of client parameters, including API key, URL, timeout, retries, and headers."}, {"name": "get_client", "description": "Returns an InferenceClient instance, creating it if necessary."}, {"name": "get_async_client", "description": "Returns an AsyncInferenceClient instance, creating it if necessary."}, {"name": "get_request_params", "description": "Builds and returns request parameters for inference calls, including optional tools and tool choices."}, {"name": "to_dict", "description": "Serializes the HuggingFace model instance into a dictionary, including configuration parameters."}, {"name": "_format_message", "description": "Formats a Message object into a dictionary suitable for HuggingFace API requests."}, {"name": "invoke", "description": "Performs a synchronous chat completion request to HuggingFace Hub."}, {"name": "ainvoke", "description": "Performs an asynchronous chat completion request to HuggingFace Hub."}, {"name": "invoke_stream", "description": "Performs a streaming synchronous chat completion request, yielding chunks."}, {"name": "ainvoke_stream", "description": "Performs an asynchronous streaming chat completion request, yielding chunks."}, {"name": "parse_tool_calls", "description": "Builds tool call data structures from streamed tool call delta data."}, {"name": "parse_provider_response", "description": "Parses a ChatCompletionOutput into a ModelResponse object."}, {"name": "parse_provider_response_delta", "description": "Parses a ChatCompletionStreamOutput delta into a ModelResponse object."}], "calls": ["get_client", "get_async_client", "log_error", "log_warning", "log_debug", "super().to_dict()", "json.dumps", "self.get_client().chat.completions.create", "self.get_async_client()", "client.chat.completions.create", "client.chat.completions.create", "self.get_client().chat.completions.create", "self.get_async_client()", "client.chat.completions.create", "client.chat.completions.create"], "search-terms": ["HuggingFace", "InferenceClient", "AsyncInferenceClient", "chat.completions", "streaming", "response parsing", "model interaction", "stream output", "tool calls", "API inference"], "state": 2, "file_id": 271, "knowledge_revision": 2547, "git_revision": "69e8f9dc474e69f2d3863442c4c1c6824ca37f08", "ctags": [], "filename": "libs/agno/agno/models/huggingface/huggingface.py", "hash": "fd24a8f23e947bc0c4591a5906d966fe", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2547": "69e8f9dc474e69f2d3863442c4c1c6824ca37f08"}]}