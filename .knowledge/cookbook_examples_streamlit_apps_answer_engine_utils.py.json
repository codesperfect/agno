{"is_source_file": true, "format": "Python", "description": "This file contains utility functions for managing chat messages, exporting chat history, displaying tool call results, and UI components for a Streamlit-based answer engine application. It interacts with session state, external agents, and models to facilitate a conversational interface with tools and session management.", "external_files": ["agents", "agno.agent.agent", "agno.models.response", "agno.utils.log", "streamlit"], "external_methods": ["agents.get_sage", "agno.agent.agent.Agent", "agno.models.response.ToolExecution", "agno.utils.log.logger", "streamlit.st", "streamlit.st.sidebar", "streamlit.st.button", "streamlit.st.download_button", "streamlit.st.markdown", "streamlit.st.expander", "streamlit.st.code", "streamlit.st.json", "streamlit.st.error", "streamlit.st.success", "streamlit.st.columns", "streamlit.st.rerun"], "published": ["add_message", "restart_agent", "export_chat_history", "display_tool_calls", "sidebar_widget", "session_selector_widget", "rename_session_widget", "about_widget", "CUSTOM_CSS"], "classes": [], "methods": [{"name": "add_message", "description": "Adds a message with role, content, and optional tool calls to the Streamlit session state messages list."}, {"name": "restart_agent", "description": "Resets the agent's session state, clearing messages and session identifiers, and triggers a rerun of the Streamlit app."}, {"name": "export_chat_history", "description": "Generates a markdown-formatted string of the chat history from session state messages."}, {"name": "display_tool_calls", "description": "Displays a list of tool call results within a Streamlit container, with expandable sections for details and syntax-highlighted queries."}, {"name": "sidebar_widget", "description": "Creates a sidebar with sample queries, utilities, and chat export options."}, {"name": "session_selector_widget", "description": "Provides a session selection dropdown, loads selected session data, and updates session state accordingly."}, {"name": "rename_session_widget", "description": "Allows renaming the current session with inline editing and saves the new name."}, {"name": "about_widget", "description": "Displays an about section describing the application and its technologies."}], "calls": ["streamlit.st.session_state", "streamlit.st.button", "streamlit.st.download_button", "streamlit.st.markdown", "streamlit.st.expander", "streamlit.st.code", "streamlit.st.json", "streamlit.st.error", "streamlit.st.success", "streamlit.st.columns", "streamlit.st.rerun", "agents.get_sage"], "search-terms": ["streamlit chat utils", "session management", "tool call display", "chat history export", "session selector", "rename session", "about section", "UI components", "answer engine"], "state": 2, "file_id": 939, "knowledge_revision": 3217, "git_revision": "1e0b5257bcfb78da6fb083fd312f99a1e71e7fcc", "ctags": [], "filename": "cookbook/examples/streamlit_apps/answer_engine/utils.py", "hash": "3135229ef013bbdcb9340d399e2186c8", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"3217": "1e0b5257bcfb78da6fb083fd312f99a1e71e7fcc"}]}