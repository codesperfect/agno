{"is_source_file": true, "format": "Python", "description": "This file defines a Python class AwsBedrockEmbedder that integrates with AWS Bedrock to generate embeddings from text. It includes methods for creating a client, formatting requests, calling the API, and extracting embeddings and usage data.", "external_files": ["agno.embedder.base", "agno.exceptions", "agno.utils.log", "boto3", "botocore.exceptions"], "external_methods": ["log_error", "logger", "getenv", "AwsClient", "ClientError"], "published": ["AwsBedrockEmbedder"], "classes": [{"name": "AwsBedrockEmbedder", "description": "A class that provides methods to interact with AWS Bedrock for generating text embeddings, including client management, request formatting, and response parsing."}], "methods": [{"name": "get_client", "description": "Returns an AWS Bedrock client, creating it if necessary, using either a provided session or environment variables."}, {"name": "_format_request_body", "description": "Creates a JSON-formatted string for the API request body based on input text and configuration."}, {"name": "response", "description": "Sends a request to AWS Bedrock to get embeddings for the provided text and returns the API response."}, {"name": "get_embedding", "description": "Extracts and returns the embedding vector from the API response for the given text."}, {"name": "get_embedding_and_usage", "description": "Returns both the embedding vector and usage metrics from the API response for the given text."}], "calls": ["self.get_client", "self._format_request_body", "self.get_client().invoke_model", "json.loads", "log_error", "raise", "logger.warning"], "search-terms": ["AWS Bedrock", "embedder", "boto3", "AWS credentials", "text embedding", "AWS Bedrock API"], "state": 2, "file_id": 294, "knowledge_revision": 2534, "git_revision": "8bab5d75b2d603b6665b4da4c43506a683cf34e4", "ctags": [], "filename": "libs/agno/agno/embedder/aws_bedrock.py", "hash": "d7f37880235ae9ae99be629c1bbf5584", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2534": "8bab5d75b2d603b6665b4da4c43506a683cf34e4"}]}