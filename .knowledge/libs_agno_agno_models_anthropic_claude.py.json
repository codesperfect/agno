{"is_source_file": true, "format": "Python", "description": "This file defines the 'Claude' class, a model implementation for interacting with the Anthropic Claude API, including methods for synchronous and asynchronous invocation, response parsing, and handling streaming responses. It also manages API client configuration and request parameter preparation.", "external_files": ["agnos.utils.models.claude", "agnos.models.base", "agnos.models.message", "agnos.models.response", "agnos.utils.log", "agnos.exceptions"], "external_methods": ["format_messages", "log_debug", "log_error", "log_warning"], "published": ["Claude"], "classes": [{"name": "Claude", "description": "Represents the Anthropic Claude model, providing methods for API interaction, response parsing, and streaming."}], "methods": [{"name": "_get_client_params", "description": "Prepares the client parameters, including API key and optional settings."}, {"name": "get_client", "description": "Returns an instance of the Anthropic client, initializing it if necessary."}, {"name": "get_async_client", "description": "Returns an instance of the asynchronous Anthropic client, initializing it if necessary."}, {"name": "get_request_params", "description": "Generates request parameters based on model configuration."}, {"name": "_prepare_request_kwargs", "description": "Prepares the request keyword arguments for API calls, including system messages and tools."}, {"name": "_format_tools_for_model", "description": "Transforms tool definitions into the format expected by the API."}, {"name": "invoke", "description": "Sends a synchronous request to the API to generate a response based on input messages."}, {"name": "invoke_stream", "description": "Streams a response from the API based on input messages."}, {"name": "ainvoke", "description": "Sends an asynchronous request to the API to generate a response."}, {"name": "ainvoke_stream", "description": "Streams an asynchronous response from the API."}, {"name": "format_function_call_results", "description": "Handles the results of function calls and appends them to messages."}, {"name": "get_system_message_for_model", "description": "Generates a system message based on available tools."}, {"name": "parse_provider_response", "description": "Parses the raw API response into a structured ModelResponse."}, {"name": "parse_provider_response_delta", "description": "Parses streaming response chunks into a ModelResponse."}], "calls": ["format_messages", "log_debug", "log_error", "log_warning", "self.get_client", "self.get_async_client", "self._get_client_params", "self.get_request_params", "self._prepare_request_kwargs"], "search-terms": ["Claude", "Anthropic", "model", "API interaction", "streaming", "response parsing", "async", "client configuration"], "state": 2, "file_id": 234, "knowledge_revision": 2516, "git_revision": "69e8f9dc474e69f2d3863442c4c1c6824ca37f08", "ctags": [], "filename": "libs/agno/agno/models/anthropic/claude.py", "hash": "0050126e814e47fc7ab62773220acc7f", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2516": "69e8f9dc474e69f2d3863442c4c1c6824ca37f08"}]}