{"is_source_file": true, "format": "Python", "description": "This file contains test cases for the JSONKnowledgeBase component, including setup, loading, and querying JSON-based knowledge bases, both synchronously and asynchronously, with various filters and configurations.", "external_files": ["os", "pathlib.Path", "pytest", "agno.agent.Agent", "agno.knowledge.json.JSONKnowledgeBase", "agno.vectordb.lancedb.lance_db.LanceDb"], "external_methods": ["os.urandom", "Path.parent", "Path.__truediv__", "LanceDb.drop", "LanceDb.exists", "LanceDb.get_count", "LanceDb.async_exists", "LanceDb.async_get_count", "Agent.run", "Agent.arun"], "published": ["setup_vector_db", "get_filtered_data_dir", "prepare_knowledge_base", "aprepare_knowledge_base", "test_json_knowledge_base", "test_json_knowledge_base_single_file", "test_json_knowledge_base_async", "test_text_knowledge_base_with_metadata_path", "test_knowledge_base_with_metadata_path_invalid_filter", "test_knowledge_base_with_valid_filter", "test_knowledge_base_with_run_level_filter"], "classes": [], "methods": [{"name": "setup_vector_db", "description": "Fixture to set up a temporary LanceDb instance for testing."}, {"name": "get_filtered_data_dir", "description": "Returns the path to the directory containing filtered test data."}, {"name": "prepare_knowledge_base", "description": "Creates and loads a JSONKnowledgeBase with sample documents and metadata."}, {"name": "aprepare_knowledge_base", "description": "Asynchronously creates and loads a JSONKnowledgeBase with sample documents and metadata."}, {"name": "test_json_knowledge_base", "description": "Tests loading and querying a JSONKnowledgeBase with multiple JSON files."}, {"name": "test_json_knowledge_base_single_file", "description": "Tests loading and querying a JSONKnowledgeBase with a single JSON file."}, {"name": "test_json_knowledge_base_async", "description": "Asynchronous test for loading and querying a JSONKnowledgeBase."}, {"name": "test_text_knowledge_base_with_metadata_path", "description": "Tests loading text files with metadata and querying with filters."}, {"name": "test_knowledge_base_with_metadata_path_invalid_filter", "description": "Tests behavior with invalid metadata filters."}, {"name": "test_knowledge_base_with_valid_filter", "description": "Tests filtering knowledge base results with valid filters."}, {"name": "test_knowledge_base_with_run_level_filter", "description": "Tests filtering knowledge base results with filters provided at run time."}], "calls": ["LanceDb.drop", "LanceDb.exists", "LanceDb.get_count", "LanceDb.async_exists", "LanceDb.async_get_count", "Agent.run", "Agent.arun"], "search-terms": ["JSONKnowledgeBase", "test_json_knowledge_base", "async_load", "metadata_filters", "knowledge_base_tests", "lancedb"], "state": 2, "file_id": 712, "knowledge_revision": 2958, "git_revision": "6f79346d9babccb9b93ca5930a43b1b38f5cc80b", "ctags": [], "filename": "libs/agno/tests/integration/knowledge/test_json_knowledge_base.py", "hash": "4aacfb53c66473a0527b3a6ebbd60df6", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2958": "6f79346d9babccb9b93ca5930a43b1b38f5cc80b"}]}