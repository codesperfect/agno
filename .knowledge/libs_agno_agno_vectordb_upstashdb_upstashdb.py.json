{"is_source_file": true, "format": "Python", "description": "This file defines a Python class 'UpstashVectorDb' that provides an interface to interact with the Upstash Vector database, including methods for index management, document upsertion, searching, and namespace handling. It imports external modules for Upstash vector operations and internal modules for document handling, logging, and reranking.", "external_files": ["upstash_vector", "upstash_vector.types", "agno.document", "agno.embedder", "agno.reranker.base", "agno.utils.log", "agno.vectordb.base"], "external_methods": ["upstash_vector.Index", "upstash_vector.Vector", "upstash_vector.types.InfoResult", "logger.warning", "logger.error", "logger.warning", "logger.error", "logger.warning", "logger.error", "log_info"], "published": ["UpstashVectorDb"], "classes": [{"name": "UpstashVectorDb", "description": "A class providing an interface to the Upstash Vector database, supporting index operations, document upsertion, search, and namespace management with optional embedding and reranking features."}], "methods": [{"name": "__init__", "description": "Constructor initializing the UpstashVectorDb with connection parameters, optional embedder, reranker, and other configurations."}, {"name": "index", "description": "Property that lazily initializes and returns the Upstash Vector index, verifying index info and dimension consistency."}, {"name": "exists", "description": "Checks if the index exists and is accessible by attempting to retrieve its info."}, {"name": "create", "description": "Placeholder method indicating index creation is only possible via Upstash Console."}, {"name": "drop", "description": "Placeholder method indicating index dropping is only possible via Upstash Console."}, {"name": "drop_namespace", "description": "Deletes a specified namespace from the index if it exists."}, {"name": "get_all_namespaces", "description": "Returns a list of all namespaces in the index."}, {"name": "doc_exists", "description": "Checks if a specific document exists in the index based on its ID."}, {"name": "name_exists", "description": "Warns about index existence check via Upstash Console; returns whether the index exists."}, {"name": "namespace_exists", "description": "Checks if a given namespace exists in the index."}, {"name": "upsert", "description": "Upserts a list of documents into the index, generating vectors if an embedder is provided."}, {"name": "upsert_available", "description": "Indicates that upsert operation is supported."}, {"name": "insert", "description": "Raises NotImplementedError as insert is not supported; use upsert instead."}, {"name": "search", "description": "Performs a search query in the index, optionally using embeddings for similarity search, and applies reranking if configured."}, {"name": "delete", "description": "Resets (clears) the index or namespace, returning success status."}, {"name": "get_index_info", "description": "Retrieves information about the index such as size and vector count."}, {"name": "optimize", "description": "Empty method as index optimization is automatic in Upstash."}, {"name": "async_name_exists", "description": "Placeholder for async name existence check, not supported."}], "calls": ["upstash_vector.Index", "upstash_vector.Vector", "upstash_vector.types.InfoResult", "logger.warning", "logger.error", "logger.warning", "logger.error", "logger.warning", "logger.error", "log_info"], "search-terms": ["UpstashVectorDb", "vector database", "index management", "document upsert", "search", "namespace", "embedding", "reranker", "upstash"], "state": 2, "file_id": 566, "knowledge_revision": 2822, "git_revision": "65b51199867b9c95a09bfe7c4c91e56b8126e675", "ctags": [], "filename": "libs/agno/agno/vectordb/upstashdb/upstashdb.py", "hash": "b0f371772e66764c939f810b56459aca", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2822": "65b51199867b9c95a09bfe7c4c91e56b8126e675"}]}