{"is_source_file": true, "format": "Python", "description": "This file contains unit tests for the YAML storage system related to agent and workflow sessions, utilizing pytest fixtures and test functions to verify CRUD operations and filtering capabilities.", "external_files": ["agno.storage.session.agent", "agno.storage.session.workflow", "agno.storage.yaml"], "external_methods": ["pytest.fixture", "tempfile.TemporaryDirectory", "Path", "YamlStorage.create", "YamlStorage.upsert", "YamlStorage.read", "YamlStorage.get_all_sessions", "YamlStorage.delete_session", "AgentSession", "WorkflowSession"], "published": [], "classes": [{"name": "AgentSession", "description": "Represents a session for an agent, including session ID, agent ID, user ID, memory, agent data, session data, and extra data."}, {"name": "WorkflowSession", "description": "Represents a session for a workflow, including session ID, workflow ID, user ID, memory, workflow data, session data, and extra data."}, {"name": "YamlStorage", "description": "Handles storage of session data in YAML files, supporting CRUD operations and filtering."}], "methods": [{"name": "temp_dir", "description": "Pytest fixture that creates and yields a temporary directory as a Path object."}, {"name": "agent_storage", "description": "Pytest fixture that initializes a YamlStorage instance in 'agent' mode with a temporary directory."}, {"name": "workflow_storage", "description": "Pytest fixture that initializes a YamlStorage instance in 'workflow' mode with a temporary directory."}, {"name": "test_agent_storage_crud", "description": "Tests create, read, update, delete operations for agent storage."}, {"name": "test_workflow_storage_crud", "description": "Tests create, read, update, delete operations for workflow storage."}, {"name": "test_storage_filtering", "description": "Tests filtering of agent sessions by user_id and entity_id."}, {"name": "test_workflow_storage_filtering", "description": "Tests filtering of workflow sessions by user_id and entity_id, including non-existent filters."}], "calls": ["tempfile.TemporaryDirectory", "Path", "YamlStorage.create", "YamlStorage.upsert", "YamlStorage.read", "YamlStorage.get_all_sessions", "YamlStorage.delete_session", "AgentSession", "WorkflowSession"], "search-terms": ["unit tests", "YamlStorage", "session CRUD", "session filtering", "agent storage", "workflow storage", "pytest fixtures", "test_yaml_storage"], "state": 2, "file_id": 665, "knowledge_revision": 2895, "git_revision": "b282281e6026e1dab22d0e759cb9fdd41a777d61", "ctags": [], "filename": "libs/agno/tests/unit/storage/test_yaml_storage.py", "hash": "b7637c4b12511eb2ef04d52f98837a73", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2895": "b282281e6026e1dab22d0e759cb9fdd41a777d61"}]}