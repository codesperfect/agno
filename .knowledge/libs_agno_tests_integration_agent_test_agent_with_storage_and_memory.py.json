{"is_source_file": true, "format": "Python", "description": "Test suite for the Agent component with storage and memory, including multi-session and multi-user scenarios.", "external_files": ["pytest", "agno.agent.agent", "agno.memory.agent", "agno.models.message", "agno.models.openai.chat"], "external_methods": ["pytest.fixture", "agent_storage.read", "agent_storage.get_all_session_ids", "agent_storage.get_all_sessions", "memory.clear", "memory.get_user_memories", "memory.arun"], "published": ["test_agent_session_state", "test_agent_runs_in_memory", "test_agent_runs_in_memory_legacy", "test_multi_user_multi_session_chat"], "classes": [{"name": "Agent", "description": "Represents an AI agent with capabilities for storage and memory management."}, {"name": "AgentMemory", "description": "Handles in-memory storage of agent interactions and responses."}, {"name": "Message", "description": "Represents a message exchanged between user and agent."}, {"name": "OpenAIChat", "description": "Model class for OpenAI chat-based models."}], "methods": [{"name": "chat_agent", "description": "Fixture that creates an Agent with a specific model, storage, and memory."}, {"name": "memory_agent", "description": "Fixture that creates an Agent configured to create memories."}, {"name": "test_agent_session_state", "description": "Tests session state management and persistence."}, {"name": "test_agent_runs_in_memory", "description": "Tests agent run storage in memory."}, {"name": "test_agent_runs_in_memory_legacy", "description": "Tests legacy memory storage behavior."}, {"name": "test_multi_user_multi_session_chat", "description": "Simulates multi-user, multi-session chat with storage and memory, verifying correct data handling."}], "calls": ["agent.run", "agent_session.memory", "agent_storage.read", "agent_storage.get_all_session_ids", "agent_storage.get_all_sessions", "memory.clear", "memory.get_user_memories", "memory.arun"], "search-terms": ["agent session state", "multi-user multi-session chat", "agent memory storage", "test agent with storage", "agent run responses", "session management in tests"], "state": 2, "file_id": 842, "knowledge_revision": 3102, "git_revision": "20598194e3b3de638d996bb8aca3530fc73f38b6", "ctags": [], "filename": "libs/agno/tests/integration/agent/test_agent_with_storage_and_memory.py", "hash": "69cf9ab90ac8b2d060f0922fb07b487d", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"3102": "20598194e3b3de638d996bb8aca3530fc73f38b6"}]}