{"is_source_file": true, "format": "Python", "description": "This Python source file demonstrates how to implement human-in-the-loop functionality with user confirmation in a tool-based agent system, specifically within the context of fetching and reviewing Hacker News stories, including handling user prompts and controlling flow based on user input.", "external_files": ["httpx", "agno.agent", "agno.models.openai", "agno.tools", "agno.utils", "rich.console", "rich.prompt"], "external_methods": ["httpx.get", "agno.agent.Agent", "agno.models.openai.OpenAIChat", "agno.tools.tool", "agno.utils.pprint", "rich.console.Console", "rich.prompt.Prompt.ask", "pprint.pprint_run_response"], "published": ["get_top_hackernews_stories"], "classes": [{"name": "Agent", "description": "An agent that manages tools and orchestrates their execution, including handling user interactions and streaming responses."}], "methods": [{"name": "get_top_hackernews_stories", "description": "Fetches the top stories from Hacker News, retrieves their details, and returns them as a JSON string."}], "calls": ["httpx.get", "agent.run", "agent.continue_run", "pprint.pprint_run_response"], "search-terms": ["human-in-the-loop", "user confirmation", "Hacker News", "agent flow control", "tool confirmation"], "state": 2, "file_id": 1872, "knowledge_revision": 4133, "git_revision": "06b14590a60fae73464ea1f14d36a129801a720a", "ctags": [], "filename": "cookbook/agent_concepts/user_control_flows/confirmation_required_stream.py", "hash": "adc573d35ef2907db49948424f7a3367", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"4133": "06b14590a60fae73464ea1f14d36a129801a720a"}]}