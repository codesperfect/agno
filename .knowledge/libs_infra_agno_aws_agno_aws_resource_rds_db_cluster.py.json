{"is_source_file": true, "format": "Python", "description": "This file defines the DbCluster class, which manages AWS RDS database clusters, including creation, reading, updating, and deletion operations. It includes methods for handling secrets, configuring cluster parameters, and interacting with AWS SDK.", "external_files": ["agno.aws.api_client", "agno.aws.resource.base", "agno.aws.resource.cloudformation.stack", "agno.aws.resource.ec2.security_group", "agno.aws.resource.rds.db_instance", "agno.aws.resource.rds.db_subnet_group", "agno.aws.resource.secret.manager", "agno.cli.console", "agno.utils.log"], "external_methods": ["print_info", "logger.debug", "logger.error"], "published": ["DbCluster"], "classes": [{"name": "DbCluster", "description": "Represents an AWS RDS database cluster, providing methods for lifecycle management including creation, reading, updating, and deletion, with support for secrets and configuration parameters."}], "methods": [{"name": "get_db_cluster_identifier", "description": "Returns the identifier of the DB cluster, defaulting to the name if not explicitly set."}, {"name": "get_master_username", "description": "Retrieves the master username, checking secrets file and AWS secrets if not set."}, {"name": "get_master_user_password", "description": "Retrieves the master user password, checking secrets file and AWS secrets if not set."}, {"name": "get_database_name", "description": "Retrieves the database name, checking secrets file and AWS secrets if not set."}, {"name": "get_db_name", "description": "Alias for get_database_name, used by other components."}, {"name": "_create", "description": "Creates the RDS DB cluster in AWS using boto3 client, configuring parameters and handling secrets."}, {"name": "post_create", "description": "Waits for the DB cluster and its instances to become available after creation."}, {"name": "_read", "description": "Reads the current state of the DB cluster from AWS."}, {"name": "_delete", "description": "Deletes the DB cluster and associated instances from AWS."}, {"name": "post_delete", "description": "Waits for the DB cluster to be fully deleted."}, {"name": "_update", "description": "Updates the DB cluster configuration in AWS."}, {"name": "get_db_endpoint", "description": "Retrieves the primary endpoint of the DB cluster."}, {"name": "get_db_reader_endpoint", "description": "Retrieves the reader endpoint of the DB cluster."}, {"name": "get_db_port", "description": "Retrieves the port number used by the DB cluster."}], "calls": ["print_info", "logger.debug", "logger.error", "self.get_service_client", "self.get_secret_file_data", "self.read", "self.get_aws_client", "self.read_resource_from_file", "self.get_resource_type", "self.get_resource_name", "self.get_service_client", "self.get_secret_file_data", "self.read", "self.get_aws_client", "self.read_resource_from_file"], "search-terms": ["DbCluster", "AWS RDS cluster management", "create_db_cluster", "read_db_cluster", "update_db_cluster", "delete_db_cluster", "secrets management", "cluster parameters", "cluster endpoints"], "state": 2, "file_id": 48, "knowledge_revision": 2349, "git_revision": "e67ee577664da81d64486d0682baa2083ae8659b", "ctags": [], "filename": "libs/infra/agno_aws/agno/aws/resource/rds/db_cluster.py", "hash": "31dc5e92a04e3d1a8e46d8274b5d6b91", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2349": "e67ee577664da81d64486d0682baa2083ae8659b"}]}