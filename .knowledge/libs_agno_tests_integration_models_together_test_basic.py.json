{"is_source_file": true, "format": "Python", "description": "This file contains test cases for the 'Agent' class and related models in the 'agno' project, focusing on integration tests for model responses, streaming, memory, and structured output validation.", "external_files": ["pytest", "pydantic", "agno.agent", "agno.models.together", "agno.storage.sqlite"], "external_methods": ["pytest.mark.asyncio", "pytest.mark", "assert", "hasattr"], "published": ["test_basic", "test_basic_stream", "test_async_basic", "test_async_basic_stream", "test_with_memory", "test_response_model", "test_json_response_mode", "test_history"], "classes": [{"name": "MovieScript", "description": "A Pydantic model used for testing structured response outputs in the agent."}], "methods": [{"name": "_assert_metrics", "description": "Helper function to verify that the metrics in the response contain positive token counts and their sum matches."}, {"name": "test_basic", "description": "Tests the basic synchronous run of the agent with a simple prompt."}, {"name": "test_basic_stream", "description": "Tests the streaming response from the agent."}, {"name": "test_async_basic", "description": "Tests the asynchronous run of the agent."}, {"name": "test_async_basic_stream", "description": "Tests the asynchronous streaming response from the agent."}, {"name": "test_with_memory", "description": "Tests the agent's memory feature with historical responses."}, {"name": "test_response_model", "description": "Tests structured response output using a custom Pydantic model."}, {"name": "test_json_response_mode", "description": "Tests structured response output with JSON mode enabled."}, {"name": "test_history", "description": "Tests the agent's session history persistence with SQLite storage."}], "calls": ["agent.run", "agent.arun", "agent.get_messages_for_session", "assert", "sum", "hasattr", "isinstance"], "search-terms": ["integration tests", "agent response", "structured output", "memory", "streaming", "asyncio", "pydantic models", "sqlite storage"], "state": 2, "file_id": 736, "knowledge_revision": 2969, "git_revision": "777260577abc1ec1fbdfa141f65351510b5775ee", "ctags": [], "filename": "libs/agno/tests/integration/models/together/test_basic.py", "hash": "662a7c53b8916f17044b6b1d15f10cee", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2969": "777260577abc1ec1fbdfa141f65351510b5775ee"}]}