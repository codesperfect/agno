{"is_source_file": true, "format": "Python", "description": "This file contains unit tests for the JSON storage component of an agent-based system, specifically testing session storage, retrieval, deletion, and filtering functionalities.", "external_files": ["shutil", "pytest", "agno.agent", "agno.storage.json", "agno.storage.session.agent"], "external_methods": ["shutil.rmtree", "pytest.fixture", "pytest.raises", "pytest.mark.parametrize", "Agent.run", "JsonStorage.read", "JsonStorage.get_all_sessions", "JsonStorage.delete_session", "JsonStorage.get_all_session_ids", "JsonStorage.drop"], "published": [], "classes": [{"name": "Agent", "description": "Represents an agent that interacts with storage and manages sessions."}, {"name": "JsonStorage", "description": "Handles JSON-based persistent storage for sessions."}, {"name": "AgentSession", "description": "Represents a session associated with an agent, including memory and session ID."}], "methods": [{"name": "temp_storage_path", "description": "Fixture that creates and cleans up a temporary storage directory."}, {"name": "agent_storage", "description": "Fixture that creates a JsonStorage instance for agent sessions."}, {"name": "workflow_storage", "description": "Fixture that creates a JsonStorage instance for workflow sessions."}, {"name": "agent_with_storage", "description": "Fixture that creates an Agent instance with storage."}, {"name": "test_storage_creation", "description": "Tests creation of storage directory."}, {"name": "test_agent_session_storage", "description": "Tests storing an agent session and verifying its contents."}, {"name": "test_multiple_interactions", "description": "Tests multiple interactions stored in the same session."}, {"name": "test_session_retrieval_by_user", "description": "Tests retrieving sessions filtered by user ID."}, {"name": "test_session_deletion", "description": "Tests deleting a session."}, {"name": "test_get_all_session_ids", "description": "Tests retrieving all session IDs with various filters."}, {"name": "test_drop_storage", "description": "Tests dropping all sessions from storage."}], "calls": ["shutil.rmtree", "JsonStorage.read", "JsonStorage.get_all_sessions", "JsonStorage.delete_session", "JsonStorage.get_all_session_ids", "JsonStorage.drop", "Agent.run"], "search-terms": ["unit tests", "storage session", "agent storage", "json storage", "session management", "test_json_storage_agent"], "state": 2, "file_id": 854, "knowledge_revision": 3137, "git_revision": "a545ab73f2d26f0794a5a9519e4cce878519c2ea", "ctags": [], "filename": "libs/agno/tests/integration/storage/test_json_storage_agent.py", "hash": "4baf49693a4da3a09d3c2f5a8ad2f028", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"3137": "a545ab73f2d26f0794a5a9519e4cce878519c2ea"}]}