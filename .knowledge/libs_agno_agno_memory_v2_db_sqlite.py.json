{"is_source_file": true, "format": "Python", "description": "This file defines a class `SqliteMemoryDb` that implements a memory storage backend using SQLite via SQLAlchemy. It includes methods for creating, reading, updating, deleting, and managing a SQLite-backed memory table, with connection setup based on provided URL, file, or engine.", "external_files": ["agno.memory.v2.db.base", "agno.memory.v2.db.schema", "agno.utils.log"], "external_methods": ["create_engine", "inspect", "select", "delete", "text", "scoped_session", "sessionmaker", "log_debug", "log_info", "logger.error"], "published": ["SqliteMemoryDb"], "classes": [{"name": "SqliteMemoryDb", "description": "A class providing a SQLite-backed in-memory database for storing memory rows, with methods for CRUD operations and table management."}], "methods": [{"name": "__init__", "description": "Initializes the database connection and sets up the table for memory storage."}, {"name": "__dict__", "description": "Returns a dictionary representation of the database instance."}, {"name": "get_table", "description": "Defines and returns the SQLAlchemy Table object for the memory storage."}, {"name": "create", "description": "Creates the memory table if it does not exist."}, {"name": "memory_exists", "description": "Checks if a memory row exists in the table based on its ID."}, {"name": "read_memories", "description": "Reads memory rows from the table, optionally filtered by user ID, limited, and sorted."}, {"name": "upsert_memory", "description": "Inserts or updates a memory row in the table."}, {"name": "delete_memory", "description": "Deletes a memory row by its ID."}, {"name": "drop_table", "description": "Drops the memory table from the database."}, {"name": "table_exists", "description": "Checks if the memory table exists in the database."}, {"name": "clear", "description": "Clears all entries from the memory table."}, {"name": "__del__", "description": "Destructor placeholder, currently does nothing."}], "calls": ["create_engine", "inspect", "select", "delete", "text", "sessionmaker", "log_debug", "logger.error", "logger.error", "log_info"], "search-terms": ["SqliteMemoryDb", "SQLite", "memory store", "database connection", "memory table", "CRUD", "SQLAlchemy", "memory backend"], "state": 2, "file_id": 109, "knowledge_revision": 2359, "git_revision": "21e74316c6fad60d28ad2e26ffb944dd2aa120ed", "ctags": [], "filename": "libs/agno/agno/memory/v2/db/sqlite.py", "hash": "fbc50a3c31aa32a2c7085bd8749ed206", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2359": "21e74316c6fad60d28ad2e26ffb944dd2aa120ed"}]}