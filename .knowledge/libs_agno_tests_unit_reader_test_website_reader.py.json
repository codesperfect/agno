{"is_source_file": true, "format": "Python", "description": "Unit test file for the WebsiteReader class in the agno document reader module, testing crawling, reading, chunking, and error handling functionalities.", "external_files": ["unittest.mock", "pytest", "agno.document.base", "agno.document.reader.website_reader", "bs4"], "external_methods": ["unittest.mock.patch", "pytest.fixture", "pytest.mark.asyncio", "patch", "assert", "BeautifulSoup"], "published": [], "classes": [], "methods": [{"name": "mock_html_content", "description": "Fixture providing sample HTML content for testing."}, {"name": "mock_html_content_with_article", "description": "Fixture providing sample HTML content with an article tag for testing."}, {"name": "test_delay", "description": "Tests the delay method of WebsiteReader."}, {"name": "test_crawl_basic", "description": "Tests the crawl method with mocked HTML content."}, {"name": "test_read_basic", "description": "Tests the read method with mocked crawl results."}, {"name": "test_read_with_chunking", "description": "Tests the read method with chunking enabled."}, {"name": "test_read_error_handling", "description": "Tests error handling in the read method when crawl returns empty."}, {"name": "test_extract_main_content", "description": "Tests the _extract_main_content method with various HTML snippets."}, {"name": "test_get_primary_domain", "description": "Tests the _get_primary_domain method with different URL formats."}, {"name": "test_crawl_max_depth", "description": "Tests crawl behavior with max depth and multiple URLs."}, {"name": "test_async_delay", "description": "Async test for the delay method."}, {"name": "test_async_crawl_basic", "description": "Async test for the async_crawl method."}, {"name": "test_async_read_basic", "description": "Async test for the async_read method."}, {"name": "test_async_read_with_chunking", "description": "Async test for async_read with chunking enabled."}, {"name": "test_async_read_error_handling", "description": "Async test for error handling in async_read."}, {"name": "test_async_crawl_max_depth", "description": "Async test for async_crawl with multiple URLs and max depth."}], "calls": ["patch", "patch.object", "assert", "BeautifulSoup", "reader.delay", "reader.crawl", "reader.read", "reader.chunk_document", "reader.async_delay", "reader.async_crawl", "reader.async_read"], "search-terms": ["WebsiteReader", "unit tests", "HTML content parsing", "crawl method", "read method", "chunking", "async methods", "error handling", "primary domain extraction"], "state": 2, "file_id": 613, "knowledge_revision": 2856, "git_revision": "38dbf34af8dec4dc0ab9982777433a07e520ed45", "ctags": [], "filename": "libs/agno/tests/unit/reader/test_website_reader.py", "hash": "4b35a2ba190fb9d4e0fa41eb67327c51", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2856": "38dbf34af8dec4dc0ab9982777433a07e520ed45"}]}