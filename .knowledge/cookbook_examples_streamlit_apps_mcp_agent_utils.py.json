{"is_source_file": true, "format": "Python", "description": "This file contains utility functions for a Streamlit-based MCP agent interface, including UI components, configuration retrieval, message handling, and display logic for tool calls and chat history.", "external_files": ["agents", "agno.agent", "agno.models.response", "agno.tools.mcp", "agno.utils.log", "mcp_client"], "external_methods": ["st.sidebar.markdown", "st.sidebar.selectbox", "st.sidebar.slider", "st.sidebar.radio", "st.sidebar.info", "st.sidebar.error", "st.sidebar.button", "st.download_button", "st.rerun", "st.set_page_config", "st.markdown", "st.code", "st.json", "st.expander", "logger.info", "logger.error", "logger.debug"], "published": ["get_selected_model", "get_num_history_responses", "get_mcp_server_config", "add_message", "display_tool_calls", "example_inputs", "session_selector_widget", "restart_agent", "export_chat_history", "utilities_widget", "about_widget", "apply_theme"], "classes": [], "methods": [{"name": "get_selected_model", "description": "Returns the model identifier selected by the user from the sidebar options."}, {"name": "get_num_history_responses", "description": "Returns the number of previous messages to include in context, as set by the user."}, {"name": "get_mcp_server_config", "description": "Retrieves the MCP server configuration based on user selection, either GitHub or Filesystem."}, {"name": "add_message", "description": "Adds a message to the Streamlit session state, including role, content, and optional tool calls."}, {"name": "display_tool_calls", "description": "Displays a list of tool call results in an expandable Streamlit container."}, {"name": "example_inputs", "description": "Provides example user inputs for different server types to demonstrate agent capabilities."}, {"name": "session_selector_widget", "description": "Displays a session selector in the sidebar, allowing users to switch or rename sessions, and restarts the agent accordingly."}, {"name": "restart_agent", "description": "Resets the agent and clears chat history."}, {"name": "export_chat_history", "description": "Exports the current chat history as a markdown formatted string."}, {"name": "utilities_widget", "description": "Displays utility buttons for new chat, exporting chat history, and loading knowledge."}, {"name": "about_widget", "description": "Displays an about section with project info."}, {"name": "apply_theme", "description": "Applies custom CSS styling and page configuration for the Streamlit app."}], "calls": ["st.sidebar.markdown", "st.sidebar.selectbox", "st.sidebar.slider", "st.sidebar.radio", "st.sidebar.info", "st.sidebar.error", "st.sidebar.button", "st.download_button", "st.rerun", "st.set_page_config", "st.markdown", "st.code", "st.json", "st.expander", "logger.info", "logger.error", "logger.debug"], "search-terms": ["Streamlit UI functions", "MCP server configuration", "chat message handling", "tool call display", "session management", "chat history export", "custom CSS styling", "agent restart"], "state": 2, "file_id": 906, "knowledge_revision": 3215, "git_revision": "1e0b5257bcfb78da6fb083fd312f99a1e71e7fcc", "ctags": [], "filename": "cookbook/examples/streamlit_apps/mcp_agent/utils.py", "hash": "ffa1e2f0c62f9d5d8d9ca42c0528ffd4", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"3215": "1e0b5257bcfb78da6fb083fd312f99a1e71e7fcc"}]}