{"is_source_file": true, "format": "Python", "description": "This file defines a YamlStorage class that manages session data stored in YAML files, including serialization, deserialization, CRUD operations, and session retrieval with filtering and ordering.", "external_files": ["yaml", "pathlib.Path", "typing.List", "typing.Literal", "typing.Optional", "typing.Union", "agno.storage.base", "agno.storage.session", "agno.storage.session.agent", "agno.storage.session.team", "agno.storage.session.workflow", "agno.utils.log"], "external_methods": ["yaml.dump", "yaml.safe_load", "Path.mkdir", "Path.exists", "Path.glob", "Path.unlink", "AgentSession.from_dict", "TeamSession.from_dict", "WorkflowSession.from_dict"], "published": ["YamlStorage"], "classes": [{"name": "YamlStorage", "description": "A storage class that handles session data stored in YAML files, supporting create, read, update, delete, and retrieval operations with filtering and schema upgrade capabilities."}], "methods": [{"name": "__init__", "description": "Initializes the YamlStorage with a directory path and mode (agent, team, workflow)."}, {"name": "serialize", "description": "Converts a data dictionary into a YAML-formatted string."}, {"name": "deserialize", "description": "Parses a YAML string into a Python dictionary."}, {"name": "create", "description": "Creates the storage directory if it does not exist."}, {"name": "read", "description": "Reads a session from storage based on session ID and optional user ID, returning the appropriate Session subclass."}, {"name": "get_all_session_ids", "description": "Retrieves all session IDs, optionally filtered by user ID and entity ID."}, {"name": "get_all_sessions", "description": "Retrieves all session objects, optionally filtered by user ID and entity ID."}, {"name": "get_recent_sessions", "description": "Retrieves the most recent sessions ordered by creation time, with optional filtering."}, {"name": "upsert", "description": "Inserts or updates a session in storage."}, {"name": "delete_session", "description": "Deletes a session file based on session ID."}, {"name": "drop", "description": "Deletes all session files in the storage directory."}, {"name": "upgrade_schema", "description": "Placeholder for schema upgrade logic."}], "calls": ["yaml.dump", "yaml.safe_load", "Path.mkdir", "Path.exists", "Path.glob", "Path.unlink", "AgentSession.from_dict", "TeamSession.from_dict", "WorkflowSession.from_dict"], "search-terms": ["YamlStorage", "session management", "YAML file storage", "session filtering", "session retrieval", "session CRUD", "session ordering", "session schema upgrade"], "state": 2, "file_id": 523, "knowledge_revision": 2779, "git_revision": "88b8f942458a148da343660694036160a152bdf2", "ctags": [], "filename": "libs/agno/agno/storage/yaml.py", "hash": "e91aa3d04f75d1a759654694d3695743", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2779": "88b8f942458a148da343660694036160a152bdf2"}]}