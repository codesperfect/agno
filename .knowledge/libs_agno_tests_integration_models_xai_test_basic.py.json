{"is_source_file": true, "format": "Python", "description": "This file contains test cases for the 'Agent' class and related components in the 'agno' project, specifically testing functionalities such as basic responses, streaming, asynchronous operations, memory, response modeling, JSON response mode, and session history.", "external_files": ["pytest", "pydantic", "agno.agent", "agno.models.xai", "agno.storage.sqlite"], "external_methods": ["pytest.mark.asyncio", "pytest", "assert", "hasattr"], "published": [], "classes": [{"name": "MovieScript", "description": "A Pydantic model used for testing structured response outputs, representing a movie script with title, genre, and plot."}], "methods": [{"name": "_assert_metrics", "description": "A helper function to verify that the response metrics contain non-zero token counts."}, {"name": "test_basic", "description": "Tests the basic functionality of the Agent's run method with a simple prompt."}, {"name": "test_basic_stream", "description": "Tests the streaming response functionality of the Agent."}, {"name": "test_async_basic", "description": "Asynchronous test for the basic Agent response."}, {"name": "test_async_basic_stream", "description": "Asynchronous test for streaming responses."}, {"name": "test_with_memory", "description": "Tests the Agent's ability to remember context across multiple interactions."}, {"name": "test_response_model", "description": "Tests structured response output using a Pydantic model."}, {"name": "test_json_response_mode", "description": "Tests structured response output in JSON mode."}, {"name": "test_history", "description": "Tests session history management with SQLite storage."}], "calls": ["Agent.run", "Agent.arun", "Agent.get_messages_for_session", "xAI(id=...)", "SqliteStorage(...)", "response.metrics.get", "sum", "hasattr", "list", "isinstance", "assert", "async for"], "search-terms": ["pytest", "Agent", "xAI", "RunResponse", "sqlite", "test_basic", "test_async_basic", "test_with_memory", "test_response_model", "test_history"], "state": 2, "file_id": 745, "knowledge_revision": 2987, "git_revision": "777260577abc1ec1fbdfa141f65351510b5775ee", "ctags": [], "filename": "libs/agno/tests/integration/models/xai/test_basic.py", "hash": "a326d3d5296b70f3defb09df74119436", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2987": "777260577abc1ec1fbdfa141f65351510b5775ee"}]}