{"is_source_file": true, "format": "Python", "description": "This file contains unit tests for the PineconeDb class in the agno.vectordb.pineconedb module. It uses pytest and unittest.mock to test various methods including initialization, existence checks, creation, deletion, document operations, and asynchronous variants, with a focus on the Pinecone vector database integration.", "external_files": ["agno.document", "agno.vectordb.pineconedb"], "external_methods": ["pytest.fixture", "pytest.mark.asyncio", "patch", "MagicMock", "AsyncMock"], "published": [], "classes": [], "methods": [{"name": "mock_pinecone_client", "description": "Creates a mock Pinecone client with a list_indexes method."}, {"name": "mock_pinecone_index", "description": "Creates a mock Pinecone index with fetch and query methods."}, {"name": "mock_pinecone_db", "description": "Creates a PineconeDb instance with mocked dependencies for testing."}, {"name": "create_test_documents", "description": "Helper function to generate test Document instances."}, {"name": "test_initialization", "description": "Tests the initialization of the PineconeDb object."}, {"name": "test_client_property", "description": "Tests the client property of PineconeDb."}, {"name": "test_index_property", "description": "Tests the index property of PineconeDb."}, {"name": "test_exists", "description": "Tests the exists method of PineconeDb."}, {"name": "test_create", "description": "Tests the create method of PineconeDb."}, {"name": "test_drop", "description": "Tests the drop method of PineconeDb."}, {"name": "test_doc_exists", "description": "Tests the doc_exists method of PineconeDb."}, {"name": "test_name_exists", "description": "Tests the name_exists method of PineconeDb."}, {"name": "test_upsert", "description": "Tests the upsert method of PineconeDb."}, {"name": "test_insert_not_supported", "description": "Ensures insert method raises NotImplementedError."}, {"name": "test_search", "description": "Tests the search method of PineconeDb."}, {"name": "test_delete", "description": "Tests the delete method of PineconeDb."}, {"name": "test_upsert_available", "description": "Tests the upsert_available method of PineconeDb."}, {"name": "test_async_exists", "description": "Tests the async_exists method of PineconeDb."}, {"name": "test_async_create", "description": "Tests the async_create method of PineconeDb."}, {"name": "test_async_doc_exists", "description": "Tests the async_doc_exists method of PineconeDb."}, {"name": "test_async_name_exists", "description": "Tests the async_name_exists method of PineconeDb."}, {"name": "test_async_upsert", "description": "Tests the async_upsert method of PineconeDb."}, {"name": "test_async_insert_not_supported", "description": "Ensures async_insert raises NotImplementedError."}, {"name": "test_async_search", "description": "Tests the async_search method of PineconeDb."}, {"name": "test_async_drop_not_supported", "description": "Ensures async_drop raises NotImplementedError."}], "calls": ["agno.vectordb.pineconedb.pineconedb.Pinecone", "agno.document.Document", "pytest.fixture", "pytest.mark.asyncio", "patch", "MagicMock", "AsyncMock"], "search-terms": ["PineconeDb", "unit tests", "vector database", "async methods", "mocked dependencies", "test_document", "vector fetch", "vector query", "index existence", "create index", "delete index"], "state": 2, "file_id": 674, "knowledge_revision": 2921, "git_revision": "de4f484df0a97ba767f52dcde416048a0cdfa54e", "ctags": [], "filename": "libs/agno/tests/unit/vectordb/test_pineconedb.py", "hash": "fecc0fd59e0512f48df2e0c5775715fd", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2921": "de4f484df0a97ba767f52dcde416048a0cdfa54e"}]}