{"is_source_file": true, "format": "Python", "description": "This Python source file defines a Gmail toolkit class for interacting with the Gmail API, including methods for authentication, retrieving emails, creating drafts, sending emails, and searching. It leverages Google API client libraries and email MIME modules to perform email operations programmatically.", "external_files": ["email.mime.application", "email.mime.multipart", "email.mime.text", "google.auth.transport.requests", "google.oauth2.credentials", "google_auth_oauthlib.flow", "googleapiclient.discovery", "googleapiclient.errors", "agno.tools"], "external_methods": ["Credentials.from_authorized_user_file", "InstalledAppFlow.from_client_secrets_file", "InstalledAppFlow.from_client_config", "build", "Request", "Credentials.refresh", "base64.urlsafe_b64encode", "base64.urlsafe_b64decode", "mimetypes.guess_type", "Path.exists", "Path.read_text", "getenv"], "published": ["GmailTools"], "classes": [{"name": "GmailTools", "description": "A class providing methods to interact with Gmail API, including email retrieval, sending, drafting, and searching functionalities, with OAuth2 authentication handling."}], "methods": [{"name": "_auth", "description": "Handles OAuth2 authentication flow, loading credentials from file or initiating OAuth flow if needed."}, {"name": "_format_emails", "description": "Formats a list of email message details into a human-readable string."}, {"name": "get_latest_emails", "description": "Retrieves the most recent emails from the inbox."}, {"name": "get_emails_from_user", "description": "Retrieves emails from a specific sender."}, {"name": "get_unread_emails", "description": "Retrieves unread emails."}, {"name": "get_emails_by_thread", "description": "Retrieves all emails within a specific thread."}, {"name": "get_starred_emails", "description": "Retrieves starred emails."}, {"name": "get_emails_by_context", "description": "Retrieves emails matching a specific search context."}, {"name": "get_emails_by_date", "description": "Retrieves emails within a date range based on a timestamp."}, {"name": "create_draft_email", "description": "Creates and saves a draft email with optional attachments."}, {"name": "send_email", "description": "Sends an email immediately with optional attachments."}, {"name": "send_email_reply", "description": "Replies to an existing email thread."}, {"name": "search_emails", "description": "Searches emails based on a natural language query."}, {"name": "_validate_email_params", "description": "Validates email recipient, subject, and body parameters."}, {"name": "_create_message", "description": "Constructs an email message with optional attachments and headers."}, {"name": "_get_message_details", "description": "Retrieves detailed information for a list of message IDs."}, {"name": "_get_message_body", "description": "Extracts the message body content from message data."}], "calls": ["Credentials.from_authorized_user_file", "InstalledAppFlow.from_client_secrets_file", "InstalledAppFlow.from_client_config", "build", "Request", "Credentials.refresh", "base64.urlsafe_b64encode", "base64.urlsafe_b64decode", "mimetypes.guess_type", "Path.exists", "Path.read_text", "getenv"], "search-terms": ["Gmail API", "OAuth2", "email retrieval", "email sending", "drafts", "search emails", "email threading", "attachments", "Google API client"], "state": 2, "file_id": 439, "knowledge_revision": 2695, "git_revision": "090902852dc3249aa9b1c67fd5325e57751b8eed", "ctags": [], "filename": "libs/agno/agno/tools/gmail.py", "hash": "a3a9bfc4c10f09d07bcd3e35bd9de4ae", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2695": "090902852dc3249aa9b1c67fd5325e57751b8eed"}]}