{"is_source_file": true, "format": "Python", "description": "This file contains utility functions for a Streamlit-based AI image analysis application, including session management, chat history export, and UI widgets for session selection and renaming.", "external_files": ["agents", "agno.agent", "agno.models.google", "agno.models.openai", "agno.utils.log"], "external_methods": ["st.session_state", "st.rerun", "st.sidebar.warning", "st.sidebar.selectbox", "st.sidebar.container", "st.text_input", "st.markdown", "st.button", "logger.debug", "logger.info", "del st.session_state['image_agent']", "del st.session_state['chat_agent']", "st.session_state.get", "st.session_state['messages']", "st.session_state['image_agent_session_id']", "st.session_state['model_choice']", "st.session_state['api_key']", "st.session_state['image_agent']", "st.session_state['last_image_response']", "st.session_state['last_extracted_image']", "st.session_state['extract_triggered']", "st.session_state['session_edit_mode']", "st.session_state['session_name_input']", "st.session_state['image_agent']", "st.session_state['image_agent'].load_session", "st.session_state['image_agent'].rename_session", "st.session_state['image_agent'].session_name"], "published": ["add_message", "restart_agent", "clear_chat", "export_chat_history", "session_selector_widget", "rename_session_widget", "about_widget"], "classes": [{"name": "Agent", "description": "Abstract class representing an AI agent with session management capabilities."}, {"name": "Google", "description": "Model class for Google Gemini AI."}, {"name": "OpenAIChat", "description": "Model class for OpenAI's chat models."}], "methods": [{"name": "add_message", "description": "Adds a message to the chat session, ensuring session state consistency."}, {"name": "restart_agent", "description": "Resets the image processing agent and clears chat history."}, {"name": "clear_chat", "description": "Clears chat history and resets relevant session state variables while preserving model settings."}, {"name": "export_chat_history", "description": "Exports the current chat history as markdown formatted text."}, {"name": "session_selector_widget", "description": "Displays a session selector in the sidebar and loads the selected session."}, {"name": "rename_session_widget", "description": "Provides UI to rename the current session."}, {"name": "about_widget", "description": "Displays an about section in the sidebar."}], "calls": ["logger.debug", "logger.info", "st.session_state.get", "st.session_state['messages'].append", "st.rerun", "del st.session_state['image_agent']", "del st.session_state['chat_agent']", "st.sidebar.warning", "st.sidebar.selectbox", "st.sidebar.container", "st.text_input", "st.markdown", "st.button", "st.session_state['image_agent'].load_session", "st.session_state['image_agent'].rename_session"], "search-terms": ["Streamlit session management", "AI image analysis", "session selector", "chat history export", "agent session management", "vision AI utils"], "state": 2, "file_id": 888, "knowledge_revision": 3191, "git_revision": "e7f97f04bb91b897397a791b190d51ad78caf24c", "ctags": [], "filename": "cookbook/examples/streamlit_apps/vision_ai/utils.py", "hash": "c0bf123f3f963cee5cc08cb5fa991752", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"3191": "e7f97f04bb91b897397a791b190d51ad78caf24c"}]}