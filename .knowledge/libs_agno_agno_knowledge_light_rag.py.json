{"is_source_file": true, "format": "Python", "description": "This file defines a class LightRagKnowledgeBase for document processing and retrieval using a LightRAG server, including methods for loading documents from paths and URLs, and querying the server asynchronously. It also includes a retriever function for interacting with the LightRAG server.", "external_files": ["textract", "pydantic", "agno.document", "agno.document.reader.markdown_reader", "agno.document.reader.pdf_reader", "agno.document.reader.url_reader", "agno.knowledge.agent", "agno.utils.log", "httpx"], "external_methods": ["textract.process", "log_debug", "log_info", "logger", "httpx.AsyncClient", "httpx.post", "httpx.RequestError", "httpx.HTTPStatusError"], "published": ["lightrag_retriever"], "classes": [{"name": "LightRagKnowledgeBase", "description": "A knowledge base class that interacts with a LightRAG server for document processing, loading, and querying."}], "methods": [{"name": "document_lists", "description": "Property that yields lists of Document objects from various sources."}, {"name": "_text_document_lists", "description": "Internal generator that yields lists of text content from paths or URLs."}, {"name": "_process_paths", "description": "Processes path-based documents, either from directories or files."}, {"name": "_process_single_path", "description": "Processes a single file or directory path to extract text content."}, {"name": "_process_urls", "description": "Processes URL-based documents, handling metadata and different file types."}, {"name": "_process_url_with_metadata", "description": "Processes a URL with associated metadata, reading PDF or other documents."}, {"name": "_process_simple_url", "description": "Processes a URL without additional metadata."}, {"name": "load", "description": "Asynchronously loads documents into the LightRAG server."}, {"name": "aload", "description": "Delegates to load() to asynchronously load all documents."}, {"name": "load_text", "description": "Asynchronously loads a single text into the LightRAG server."}, {"name": "async_search", "description": "Performs an asynchronous search query against the LightRAG server and returns documents."}, {"name": "_insert_text", "description": "Inserts text into the LightRAG server asynchronously."}, {"name": "_is_valid_url", "description": "Checks if a URL has a supported extension."}], "calls": ["textract.process", "log_info", "log_debug", "logger", "httpx.AsyncClient", "client.post", "response.raise_for_status", "response.json", "logger.error", "traceback.format_exc"], "search-terms": ["LightRagKnowledgeBase", "LightRAG", "document processing", "async load", "URL processing", "LightRAG server query", "PDF URL reader", "MarkdownReader", "URLReader"], "state": 2, "file_id": 129, "knowledge_revision": 2392, "git_revision": "98b2700e024ccfef5c673795b83cc28d242361b0", "ctags": [], "filename": "libs/agno/agno/knowledge/light_rag.py", "hash": "64220fd91d95e6cca288ca895c515d19", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2392": "98b2700e024ccfef5c673795b83cc28d242361b0"}]}