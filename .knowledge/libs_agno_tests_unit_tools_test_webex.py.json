{"is_source_file": true, "format": "Python", "description": "This file contains unit tests for the WebexTools class, testing its initialization, message sending, and room listing functionalities with mocked dependencies.", "external_files": ["unittest.mock", "pytest", "requests", "webexpythonsdk", "webexpythonsdk.exceptions", "agno.tools.webex"], "external_methods": ["patch", "patch.dict", "Mock", "pytest.raises"], "published": [], "classes": [], "methods": [{"name": "mock_webex_api", "description": "Fixture that creates a mock Webex API client with nested message and room attributes."}, {"name": "webex_tools", "description": "Fixture that creates a WebexTools instance with a mocked API client."}, {"name": "test_init_with_api_token", "description": "Tests initialization of WebexTools with a provided API token."}, {"name": "test_init_with_env_var", "description": "Tests initialization of WebexTools using environment variable for token."}, {"name": "test_init_without_token", "description": "Tests that WebexTools raises an error if no token is provided."}, {"name": "test_init_with_selective_tools", "description": "Tests initialization with specific tool options enabled or disabled."}, {"name": "test_send_message_success", "description": "Tests successful sending of a message via WebexTools."}, {"name": "test_list_rooms_success", "description": "Tests successful retrieval and parsing of room list."}, {"name": "test_list_rooms_failure", "description": "Tests handling of rate limit error during room listing."}, {"name": "test_list_rooms_empty", "description": "Tests behavior when no rooms are returned."}, {"name": "test_send_message_rate_limit", "description": "Tests handling of rate limit error during message sending."}], "calls": ["agno.tools.webex.WebexAPI", "os.environ", "json.loads", "RateLimitError", "WebexTools", "mock_webex_api.messages.create", "mock_webex_api.rooms.list"], "search-terms": ["WebexTools unit tests", "mock Webex API client", "room listing", "message sending", "rate limit handling", "pytest fixtures", "Webex API token"], "state": 2, "file_id": 640, "knowledge_revision": 2887, "git_revision": "6ac44dfc639e6b7cca162a10c4cf0d80417ec2aa", "ctags": [], "filename": "libs/agno/tests/unit/tools/test_webex.py", "hash": "2a4f411d4ffe968caae4245f90db811b", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2887": "6ac44dfc639e6b7cca162a10c4cf0d80417ec2aa"}]}