{"is_source_file": true, "format": "Python", "description": "This is a test source file containing unit tests for the ZepTools and ZepAsyncTools classes, including mock setups and test cases for methods related to memory retrieval, message addition, and search functionalities within the 'agno.tools.zep' module.", "external_files": ["pytest", "unittest.mock", "agno.tools.zep"], "external_methods": ["pytest.raises", "pytest.fixture", "pytest.mark.asyncio", "patch", "Mock", "AsyncMock"], "published": [], "classes": [], "methods": [{"name": "mock_zep", "description": "Fixture that patches 'agno.tools.zep.Zep' to a mock object for testing."}, {"name": "zep_tools", "description": "Fixture that sets up a ZepTools instance with mocked dependencies and environment variables."}, {"name": "test_initialization", "description": "Tests that ZepTools initializes correctly with given session and user IDs."}, {"name": "test_initialization_no_api_key", "description": "Tests that ZepTools raises a ValueError when the API key environment variable is missing."}, {"name": "test_add_zep_message", "description": "Verifies that add_zep_message correctly adds a message and returns success message."}, {"name": "test_add_zep_message_not_initialized", "description": "Checks behavior when add_zep_message is called without an initialized client."}, {"name": "test_get_zep_memory_context", "description": "Tests retrieval of 'context' memory type."}, {"name": "test_get_zep_memory_messages", "description": "Tests retrieval of 'messages' memory type."}, {"name": "test_get_zep_memory_relevant_facts", "description": "Tests retrieval of 'relevant_facts' memory type."}, {"name": "test_get_zep_memory_unsupported_type", "description": "Tests response for unsupported memory type."}, {"name": "test_get_zep_memory_not_initialized", "description": "Tests behavior when getting memory without an initialized client."}, {"name": "test_search_zep_memory_edges", "description": "Tests search functionality returning edge facts."}, {"name": "test_search_zep_memory_nodes", "description": "Tests search functionality returning nodes."}, {"name": "test_search_zep_memory_no_results", "description": "Tests search response with no results."}, {"name": "test_search_zep_memory_not_initialized", "description": "Tests search when client is not initialized."}, {"name": "mock_async_zep", "description": "Fixture that patches 'agno.tools.zep.AsyncZep' to a mock object for async tests."}, {"name": "async_zep_tools", "description": "Async fixture that sets up an AsyncZep instance with mocked dependencies."}, {"name": "test_async_initialization", "description": "Async test for correct initialization of ZepAsyncTools."}, {"name": "test_async_add_zep_message", "description": "Async test verifying add_zep_message adds message successfully."}, {"name": "test_async_get_zep_memory", "description": "Async test for retrieving memory context."}, {"name": "test_async_search_zep_memory_edges", "description": "Async test for search returning edge facts."}], "calls": ["patch", "pytest.raises", "pytest.fixture", "pytest.mark.asyncio", "monkeypatch.setenv", "monkeypatch.delenv", "Mock", "AsyncMock"], "search-terms": ["test_zep.py", "ZepTools", "ZepAsyncTools", "memory retrieval", "add_zep_message", "search_zep_memory", "unit tests", "mocked dependencies", "async tests"], "state": 2, "file_id": 629, "knowledge_revision": 2886, "git_revision": "b0701fe1fcc4364e5961663c0fe6255241a5a643", "ctags": [], "filename": "libs/agno/tests/unit/tools/test_zep.py", "hash": "8c02dc9993fd4c4a3d8cfa01ce6aed1e", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"2886": "b0701fe1fcc4364e5961663c0fe6255241a5a643"}]}