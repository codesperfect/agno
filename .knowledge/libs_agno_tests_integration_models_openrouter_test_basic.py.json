{"is_source_file": true, "format": "Python", "description": "This file contains test cases for the 'Agent' class and related components in the 'agno' project, specifically testing integration with the OpenRouter model, including metrics validation, streaming responses, async operations, memory handling, and response modeling.", "external_files": ["pytest", "pydantic", "agno.agent", "agno.models.openrouter", "agno.storage.sqlite"], "external_methods": ["pytest.mark.asyncio", "pytest", "BaseModel", "Field", "Agent", "RunResponse", "OpenRouter", "SqliteStorage"], "published": [], "classes": [{"name": "MovieScript", "description": "A Pydantic model used for testing structured response outputs, representing a movie script with title, genre, and plot."}], "methods": [{"name": "_assert_metrics", "description": "A helper function to validate that the metrics in a RunResponse object are greater than zero and consistent."}, {"name": "test_basic", "description": "Tests a basic synchronous run of the Agent with a simple prompt."}, {"name": "test_basic_stream", "description": "Tests streaming responses from the Agent."}, {"name": "test_async_basic", "description": "Tests an asynchronous basic run of the Agent."}, {"name": "test_async_basic_stream", "description": "Tests asynchronous streaming responses from the Agent."}, {"name": "test_with_memory", "description": "Tests the Agent's memory feature by maintaining conversation history."}, {"name": "test_response_model", "description": "Tests the Agent's ability to return structured responses using a Pydantic model."}, {"name": "test_json_response_mode", "description": "Tests the Agent's JSON response mode with a Pydantic model."}, {"name": "test_history", "description": "Tests the conversation history storage and retrieval feature."}], "calls": ["agno.agent.Agent", "agno.agent.RunResponse", "agno.models.openrouter.OpenRouter", "agno.storage.sqlite.SqliteStorage", "pytest.mark.asyncio", "pytest", "BaseModel", "Field"], "search-terms": ["integration tests", "OpenRouter", "structured response", "memory handling", "streaming responses", "async tests", "metrics validation", "Pydantic models", "agent conversation history"], "state": 2, "file_id": 775, "knowledge_revision": 3005, "git_revision": "777260577abc1ec1fbdfa141f65351510b5775ee", "ctags": [], "filename": "libs/agno/tests/integration/models/openrouter/test_basic.py", "hash": "1abc715169bb47ea889719416066859d", "format-version": 4, "code-base-name": "https://github.com/codesperfect/agno.git:main", "revision_history": [{"3005": "777260577abc1ec1fbdfa141f65351510b5775ee"}]}